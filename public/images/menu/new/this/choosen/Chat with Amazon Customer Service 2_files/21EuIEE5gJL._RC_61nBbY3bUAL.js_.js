(function(){var g=function(e){(function(e){"undefined"==typeof amzn&&(amzn={});"undefined"==typeof amzn.cs&&(amzn.cs={});"undefined"==typeof amzn.cs.log&&(amzn.cs.log={});amzn.cs.log.LOG_EVENT_NAME="amzn.cs.log.LogEvent";amzn.cs.log._loggersByName={};amzn.cs.log._levels={DEBUG:1,LOG:2,INFO:3,WARN:4,ERROR:5,OFF:6};amzn.cs.log._throw=function(a){throw"[amzn.cs.log] "+a;};amzn.cs.log._Logger=function(a){this._name=a;this._level=amzn.cs.log._levels.DEBUG;this._logCallbacks=[]};amzn.cs.log._Logger.prototype._log=
function(a,c,d){if(c>=this._level){this.prefix&&("function"==typeof this.prefix?Array.prototype.unshift.call(d,this.prefix()):Array.prototype.unshift.call(d,this.prefix));if("undefined"!==typeof console){var b;"undefined"!=typeof console[a]?b=console[a]:"undefined"!=typeof console.log&&(b=console.log);b&&("function"==typeof b.apply?b.apply(console,d):b(Array.prototype.join.call(d," ")))}for(a=0;a<this._logCallbacks.length;a++)this._logCallbacks[a](d);c={name:this._name,level:c,args:Array.prototype.splice.call(d,
0),time:(new Date).getTime()};e(document).trigger(amzn.cs.log.LOG_EVENT_NAME,[c])}};amzn.cs.log._LogAccumulator=function(a){this._options=e.extend({},{maxLogs:100,includeJsErrors:!0},a);this._lastErrorTime=0;this._logs=[];this._listenForLogs();this._options.includeJsErrors&&this._listenForJsErrors()};amzn.cs.log._LogAccumulator.prototype._pushLogEntry=function(a){this._logs.push(a);this._logs.length>this._options.maxLogs&&this._logs.shift();a.level==amzn.cs.log._levels.ERROR&&(this._lastErrorTime=
(new Date).getTime())};amzn.cs.log._LogAccumulator.prototype._listenForLogs=function(){var a=this;e(document).bind(amzn.cs.log.LOG_EVENT_NAME,function(c,d){a._pushLogEntry(d)})};amzn.cs.log._LogAccumulator.prototype._listenForJsErrors=function(){var a=this;oldOnError=window.onerror;window.onerror=function(c,d,b){a._pushLogEntry({js:!0,level:amzn.cs.log._levels.ERROR,time:(new Date).getTime(),msg:c,url:d,line:b});return oldOnError?oldOnError(c,d,b):!1}};amzn.cs.log.initLogAccumulator=function(a){if(amzn.cs.log._accumulator)return!1;
amzn.cs.log._accumulator=new amzn.cs.log._LogAccumulator(a);return!0};amzn.cs.log.getLogAccumulator=function(){return amzn.cs.log._accumulator};amzn.cs.log._LogAccumulator.prototype.hasError=function(){return this._lastErrorTime>=this._logs[0].time};amzn.cs.log._LogAccumulator.prototype.dump=function(){return JSON.stringify(this._logs)};amzn.cs.log.getLogger=function(a){var c=amzn.cs.log._loggersByName[a];"undefined"==typeof c&&(c=new amzn.cs.log._Logger(a),amzn.cs.log._loggersByName[a]=c);return c};
amzn.cs.log.destroyLogger=function(a){delete amzn.cs.log._loggersByName[a]};amzn.cs.log._Logger.prototype.turnOff=function(){this.setLevel("OFF")};amzn.cs.log._Logger.prototype.setLevel=function(a){var c=amzn.cs.log._levels[a.toUpperCase()];"undefined"==typeof c&&amzn.cs.log._throw("unknown level: "+a);this._level=c};amzn.cs.log._Logger.prototype.setPrefix=function(a){this.prefix=a};amzn.cs.log._Logger.prototype.addCallback=function(a){this._logCallbacks.push(a)};amzn.cs.log._Logger.prototype.debug=
function(){this._log("debug",amzn.cs.log._levels.DEBUG,arguments)};amzn.cs.log._Logger.prototype.log=function(){this._log("log",amzn.cs.log._levels.LOG,arguments)};amzn.cs.log._Logger.prototype.info=function(){this._log("info",amzn.cs.log._levels.INFO,arguments)};amzn.cs.log._Logger.prototype.warn=function(){this._log("warn",amzn.cs.log._levels.WARN,arguments)};amzn.cs.log._Logger.prototype.error=function(){this._log("error",amzn.cs.log._levels.ERROR,arguments)}})(e);(function(f){"undefined"==typeof amzn&&
(amzn={});"undefined"==typeof amzn.cs&&(amzn.cs={});"undefined"==typeof amzn.cs.log&&(amzn.cs.log={});"undefined"==typeof amzn.cs.log.sushi&&(amzn.cs.log.sushi={});UPLOAD_SIZE_LIMIT=104E4;_sushiEelEndpoints={na:"https://unagi-na.amazon.com",eu:"https://unagi-eu.amazon.com",fe:"https://unagi-fe.amazon.com",cn:"https://unagi-cn.amazon.com"};amzn.cs.log.sushi._SushiLogger=function(a){amzn.cs.log._Logger.call(this,a);this._logs=[];this._uploader=[];this._logArraySize=0};amzn.cs.log.sushi._SushiLogger.prototype=
new amzn.cs.log._Logger;amzn.cs.log.sushi._SushiLogger.prototype._AddLogToArray=function(a){a={name:this._name,level:this._level,args:Array.prototype.splice.call(a,0),time:(new Date).getTime()};this._logs.push(a);JSON.stringify(this._logs).length>UPLOAD_SIZE_LIMIT?(console.log("LOG ARRAY SIZE: "+this._logs.length),a=this._logs.splice(0,this._logs.length/2),this._uploader(JSON.stringify(a)),this._uploader(JSON.stringify(this._logs)),this._logs=[]):this._logs.length>=this._logArraySize&&(console.log("LOG ARRAY SIZE: "+
this._logs.length),this._uploader(JSON.stringify(this._logs)),this._logs=[])};amzn.cs.log.sushi.getSushiLogger=function(a,c,d){var b=amzn.cs.log._loggersByName[a];"undefined"==typeof b&&(b=new amzn.cs.log.sushi._SushiLogger(a),amzn.cs.log._loggersByName[a]=b,b._logArraySize=d,b._uploader=c,b.addCallback(e.proxy(b._AddLogToArray,b)));return b};amzn.cs.log.sushi._SushiLogger.prototype.getLogsArray=function(){return this._logs};amzn.cs.log.sushi._SushiLogger.prototype.listenAndLogJSErrors=function(){var a=
this;oldOnError=window.onerror;window.onerror=function(c,d,b){var e={js:!0,level:amzn.cs.log._levels.ERROR,time:(new Date).getTime(),msg:c,url:d,line:b};a._logs.push(e);return oldOnError?oldOnError(c,d,b):!1}};amzn.cs.log.sushi._SushiLogger.prototype.clearLogsArray=function(){this._logs=[]};amzn.cs.log.sushi.getSushiEelEndpoint=function(a){return _sushiEelEndpoints[a]}})(e)},f=window.AmazonUIPageJS||window.P;f?f.when("jQuery").execute(function(e){g(e);f.register("TelephonyJSLogger",function(){})}):
g(window.jQuery)})();
/* ******** */
/*
 ################################################################
 Copyright (c) 2010 Amazon.com, Inc., and its Affiliates.
 All rights reserved.
 Not to be reused without permission
 ################################################################
 ################################################################
  Masked Input plugin for jQuery
  Copyright (c) 2007-2011 Josh Bush (digitalbush.com)
  Licensed under the MIT license (  http://digitalbush.com/projects/masked-input-plugin/#license  )
  This code is modified by Amazon to stop erasing value on invalid input.
  Version: 1.3
 ################################################################
 Input Mask plugin for jquery
 http://github.com/RobinHerbots/jquery.inputmask
 Copyright (c) 2010 - 2014 Robin Herbots
 Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 Version: 0.0.0
*/
(function(){var ea=function(v){var b=window.amzn=window.amzn||{};"undefined"===typeof b.cs&&(b.cs={});"undefined"===typeof b.cs.log&&(b.cs.log={});"undefined"===typeof b.cstel&&(b.cstel={});(function(b){function p(a,b,d,c){c.timeoutCount++;if(c.timeoutCount===e)a.apply(window,arguments);else{d=d||500;var m=(new Date).getTime()+b;c.timerId=window.setTimeout(function(){var b=m-(new Date).getTime();c.earlinesses.push(b);b>=d?p(a,b,d,c):a.apply(window,arguments)},b)}}"undefined"==typeof TelephonyUtil&&
(TelephonyUtil={});TelephonyUtil.Array={indexOf:function(a,b){if("undefined"!=typeof a.indexOf)return a.indexOf(b);for(var d=a.length,c=0;c<d;c++)if(b===a[c])return c;return-1},contains:function(a,b){return-1!=TelephonyUtil.Array.indexOf(a,b)}};TelephonyUtil.isIE6="undefined"!=typeof navigator&&/msie|MSIE 6/.test(navigator.userAgent);TelephonyUtil.putInLocalStorage=function(a,b){var d=typeof b;try{"object"===d&&(b=JSON.stringify(b));var c=window.localStorage||{};c.setItem(a,b);c.setItem(a+"__type__",
d)}catch(e){TelephonyUtil.logError("Could not save key "+a+"in localStorage",e)}};TelephonyUtil.getFromLocalStorage=function(a){var b=null,d=null;try{var c=window.localStorage||{},d=c.getItem(a+"__type__"),b=c.getItem(a)}catch(e){TelephonyUtil.logError("Could not get item with key "+a+"in localStorage",e)}if("string"===typeof b&&"object"===d){a=b;try{b=JSON.parse(a)}catch(q){TelephonyUtil.logError("Could not parse json: "+a,q)}}return b};TelephonyUtil.logError=function(a,b){window.console&&console.error&&
console.error(a,b)};TelephonyUtil.createMapCache=function(a){return new c(a)};var c=function(a){var c=this;this._options=b.extend({sweepTime:6E4,onSweepComplete:function(){}},a);this._map={};this._hasExpired=function(a){return a&&a.expiration<(new Date).getTime()};this._sweep=function(){var a=[],f;for(f in c._map)c._hasExpired(c._map[f])&&a.push(f);for(var b=0;b<a.length;b++)f=a[b],delete c._map[f];c._options.onSweepComplete()};window.setInterval(function(){c._sweep()},c._options.sweepTime);this.put=
function(a,f,b){b&&(f={expiration:(new Date).getTime()+b,value:f},c._map[a]=f)};this.get=function(a){var f=c._map[a];if(f)if(c._hasExpired(f))delete c._map[a];else return f.value}};TelephonyUtil.setTimeout=function(a,b,c){var d={timeoutCount:0,earlinesses:[]};p(a,b,c,d);return d};var e=20,a=/[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}/;TelephonyUtil.sanitizeGUID=function(f){if("string"==typeof f){var b=f.match(a);if(b)return b[0]}return f};TelephonyUtil.trimXHR=function(a){return a?
{status:a.status,statusText:a.statusText,responseText:a.responseText,timeout:a.timeout,readyState:a.readyState}:{}};TelephonyUtil.hitch=function(a,b){if(!b)return b;var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments,0),d=c.concat(d);b.apply(a,d)}};TelephonyUtil.validateParamIsNotMissing=function(a,b){if(TelephonyUtil.isParamMissing(b))throw Error('No value provided for parameter "'+a+'", but it is required.');};TelephonyUtil.validateParamIsNotEmpty=
function(a,c){TelephonyUtil.validateParamIsNotMissing(a,c);if(!b.isFunction(c)&&"number"===typeof c.length&&0===c.length)throw Error('An empty value was provided for parameter "'+a+'", but it is required to be non-empty.');};TelephonyUtil.validateParamIsFunction=function(a,b){TelephonyUtil.validateParamIsNotMissing(a,b);if("function"!==typeof b)throw Error('A non-function was provided for paramter "'+a+'", but a function is required. Actual value passed: '+b);};TelephonyUtil.isParamMissing=function(a){return"undefined"===
typeof a||null===a?!0:!1};TelephonyUtil.substituteString=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a=a.replace("${"+c+"}",b[c]));return a};TelephonyUtil.arrayMove=function(a,b,c){var d=a[b];a.splice(b,1);a.splice(c,0,d)}})(v);(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.cs&&(b.cs={});"undefined"==typeof b.cs.util&&(b.cs.util={});d.fn.amznSafeShow=function(b){b||(b={});var c="undefined"==typeof b.animate?!0:b.animationEnabled,e=b.durationMs||500,a=b.easingFunction||"linear";
return this.each(function(){var b=d(this);if(c){var h=b.height(),g=b.css("height");b.filter(":hidden").css("height","1px").animate({height:h,width:"show",opacity:"show"},e,a,function(){b.css("height",g)})}else d(b).show()})};d.fn.amznSafeHide=function(b){b||(b={});var c="undefined"==typeof b.animate?!0:b.animationEnabled,e=b.durationMs||500,a=b.easingFunction||"linear";return this.each(function(){var b=d(this);if(c){var h=b.css("height");b.filter(":visible").animate({height:"1px",width:"hide",opacity:"hide"},
e,a,function(){b.hide().css("height",h)})}else d(b).hide()})}})(v);this.JSON||(this.JSON={});(function(){function b(a){return 10>a?"0"+a:a}function p(b){a.lastIndex=0;return a.test(b)?'"'+b.replace(a,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(a,b){var d,e,g,G,C=f,r,n=b[a];n&&"object"===typeof n&&"function"===typeof n.toJSON&&(n=n.toJSON(a));"function"===typeof k&&(n=k.call(b,a,n));switch(typeof n){case "string":return p(n);
case "number":return isFinite(n)?String(n):"null";case "boolean":case "null":return String(n);case "object":if(!n)return"null";f+=h;r=[];if("[object Array]"===Object.prototype.toString.apply(n)){G=n.length;for(d=0;d<G;d+=1)r[d]=c(d,n)||"null";g=0===r.length?"[]":f?"[\n"+f+r.join(",\n"+f)+"\n"+C+"]":"["+r.join(",")+"]";f=C;return g}if(k&&"object"===typeof k)for(G=k.length,d=0;d<G;d+=1)e=k[d],"string"===typeof e&&(g=c(e,n))&&r.push(p(e)+(f?": ":":")+g);else for(e in n)Object.hasOwnProperty.call(n,e)&&
(g=c(e,n))&&r.push(p(e)+(f?": ":":")+g);g=0===r.length?"{}":f?"{\n"+f+r.join(",\n"+f)+"\n"+C+"}":"{"+r.join(",")+"}";f=C;return g}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});
var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,h,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var e;h=f="";if("number"===typeof d)for(e=0;e<d;e+=1)h+=" ";else"string"===typeof d&&(h=d);if((k=b)&&"function"!==
typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function f(a,d){var c,e,g=a[d];if(g&&"object"===typeof g)for(c in g)Object.hasOwnProperty.call(g,c)&&(e=f(g,c),void 0!==e?g[c]=e:delete g[c]);return b.call(a,d,g)}var d;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?f({"":d},""):d;throw new SyntaxError("JSON.parse");})})();(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.coraljsonp&&(b.coraljsonp={});var p=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;-1!==navigator.userAgent.indexOf("Trident")&&(p=!1);b.coraljsonp.queryService=function(c){c=c||{};var a=c.params||
{},f=c.url||"",h=c.onSuccess||function(){},g=c.onError||function(){},k=c.onComplete||function(){},m=c.resultNestedLocation||[],q=c.requiredKeys||[],M=c.operation||"",B="undefined"===typeof c.isCoral?!0:c.isCoral,l="undefined"==typeof c.crossDomain?!0:c.crossDomain,G=l&&c.crossDomainXhrEnabled&&p,C="undefined"===typeof c.timeout?6E3:c.timeout,r=c.logger;c=c.jsonpChannel;r||(r="undefined"!=typeof b&&b.cs&&b.cs.log?b.cs.log.getLogger("coraljsonp"):"undefined"!=typeof console&&console.debug&&console.error?
console:{debug:function(){},error:function(){}});l=l&&!G;B&&(a.Operation=M,a.ContentType="JSON",l&&(a.JSONCallBack="?"));var n=!1,D=function(a,b,f,c){n=!0;var d=g(a,b,f,c);k();d||(c?r.error("Operation",M,"Modelled error. Code:",c):(a=TelephonyUtil.trimXHR(a),r.error("Operation",M,"AJAX error. Status:",b," Error:",f," XHR:",a)))},J=f;M&&(J=J+"|"+M);r.debug("Requesting "+J);var N=null,Y=b.coraljsonp._registerAjaxCall({log:r,requestDescriptor:J,timeoutMs:C,timeoutHandler:function(){D(N,"timeout","Call to "+
J+" timed out after "+C+" ms");N&&N.abort()}}),ba=(new Date).getTime();b.coraljsonp.doh&&(f+="http://www.dooooooooooooooooooooh.com");a={url:f,data:a,cache:!1,dataType:l?"jsonp":"json",jsonp:B?"JSONCallBack":"callback",success:function(a,c,d){if(!n){b.coraljsonp._markAjaxCallReceived(Y);d=(new Date).getTime()-ba;if(!M){var e=f.split(/:\/\/[\w\.:]+/);M=2==e.length?e[1]:f}r.debug("Response for "+M+" ("+d+" ms)");a.Error&&a.Error.Code?D(null,null,null,a.Error.Code):(d=M+"Response",a[d]&&a[d].ResponseMetadata&&
a[d].ResponseMetadata.RequestId&&r.debug("RequestId for Operation "+M+" is : "+a[d].ResponseMetadata.RequestId),a=b.coraljsonp._drillIntoResult(a,m,q,function(a){D(null,null,"Missing key: "+a)}),null!==a&&(h(a,c),k()))}},error:function(a,f,c){b.coraljsonp._markAjaxCallReceived(Y);D(a,f,c)}};l&&c?(a.iframeName=b.coraljsonp._getChannelIFrameName(c),a.logger=r,b.coraljsonp._jsonpInIFrame(a)):G?N=b.coraljsonp._sendCrossDomainXhr(a):d.ajax(a)};b.coraljsonp._sendCrossDomainXhr=function(b){var a=new XMLHttpRequest,
f=b.url,c=b.data||{},g=b.error||function(){},k=b.success||function(){};if(!f)throw"url param required";a.onreadystatechange=function(){if(4==a.readyState)if(200!=a.status)g(a,"error",a.statusText);else{var b;try{b=JSON.parse(a.responseText)}catch(f){g(a,"parseerror",f);return}k(b,a.statusText,a)}};a.open("POST",f);a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.send(d.param(c));return a};b.coraljsonp.cleanupChannel=function(c){var a=b.cs.log.getLogger("coraljsonp");try{var f=
b.coraljsonp._getChannelIFrameName(c);d('iframe[name\x3d"'+f+'"]').remove();delete window.frames[f]}catch(h){a.error("Error cleaning up channel",c,h)}};b.coraljsonp._getChannelIFrameName=function(b){return"jsonpChannel-"+b};d.coraljsonp=b.coraljsonp.queryService;b.coraljsonp._jsonpInIFrame=function(c){var a=c.iframeName;if(!a)throw Error("no iframe name given");iframe=window.frames[a];iframe||(iframe=document.createElement("iframe"),iframe.name=a,iframe.style.display="none",TelephonyUtil.isIE6&&(iframe.src=
"javascript:false;"),document.body.appendChild(iframe));window.setTimeout(function(){b.coraljsonp._jsonp(d.extend({},c,{iframeName:a}))},0)};var c=(new Date).getTime();b.coraljsonp._jsonp=function(e){var a=d.extend({cache:!0,data:{},success:function(){},url:"",jsonp:"callback",scriptCharset:null,iframeName:null},e);e.log||b.cs.log.getLogger("coraljsonp");var f;a.iframeName&&(f=window.frames[a.iframeName]);var h=(f||window).document;a.cache&&(a.data._=(new Date).getTime());var g="amznjsonp"+c++;a.data[a.jsonp]=
f?"parent."+g:g;e=a.url+"?"+d.param(a.data);var k=h.createElement("script");k.src=e;a.scriptCharset&&(k.charset=scriptCharset);window[g]=function(b){try{a.success(b)}finally{window.setTimeout(function(){window[g]=void 0;try{delete window[g]}catch(a){}h.body.removeChild(k)},5E3)}};h.body.appendChild(k)};b.coraljsonp._drillIntoResult=function(b,a,f,c){var d,k;for(d=0;d<a.length;d++){k=a[d];if("undefined"==typeof b[k])return c(k),null;b=b[k]}if(f)for(d=0;d<f.length;d++)if(k=f[d],"undefined"==typeof b[k])return c(k),
null;return b};b.coraljsonp._registerAjaxCall=function(c){var a=c.log,f=c.timeoutMs,d=c.requestDescriptor,g=c.timeoutHandler||function(){},k=(new Date).getTime(),m=(new Date).getTime()+"_"+Math.floor(1E6*Math.random());"undefined"==typeof b.coraljsonp._registeredAJAXCalls&&(b.coraljsonp._registeredAJAXCalls={});b.coraljsonp._registeredAJAXCalls[m]=1;if(f){var q;q=TelephonyUtil.setTimeout(function(c){if("undefined"!=typeof b.coraljsonp._registeredAJAXCalls[m]){var e=(new Date).getTime()-k;a.debug("coraljsonp timeout detected for ajax id ",
m,"lateness:",c,"timeoutMs:",f,"diff:",e,"request:",d,"timeoutContext:",q);b.coraljsonp._markAjaxCallReceived(m);g()}},f)}return m};b.coraljsonp._markAjaxCallReceived=function(c){"undefined"!=typeof b.coraljsonp._registeredAJAXCalls&&delete b.coraljsonp._registeredAJAXCalls[c]}})(v);(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.cstel&&(b.cstel={});b.cstel.BaseServiceClient=function(c){c=c?c:{};this.options=d.extend({serviceEnv:"prod",serviceGeo:"na",serviceHost:null,logger:null,
serviceHosts:{test:{na:"",eu:"",fe:"",cn:""},master:{na:"",eu:"",fe:"",cn:""},prod:{na:"",eu:"",fe:"",cn:""}}},c);this._log=this.options.logger||b.cs.log.getLogger("baseclient");this.baseServiceUrl=this.options.serviceHost?this.options.serviceHost:this.options.serviceHosts[this.options.serviceEnv][this.options.serviceGeo];this._cache=TelephonyUtil.createMapCache()};var p=function(b,d,a,f){return f&&!f.match(/(Timeout)/)};b.cstel.BaseServiceClient.prototype._requestJson=function(c){var e=this;c=d.extend({isCoral:!1,
isUserErrorCode:p,retryDelay:1E3,maxRetries:2,retryTimeLimit:null,onSuccess:function(){}},c);var a=this.baseServiceUrl;c.url&&(a+=c.url);var f=[];if(c.cacheTime){var h=a+"?"+d.param(c.params),g=this._cache.get(h);if(g){if(c.onCacheHit)c.onCacheHit();c.onSuccess(g);return}if(c.onCacheMiss)c.onCacheMiss()}b.tel.retry.doTaskWithRetries({maxRetries:c.maxRetries,retryDelay:c.retryDelay,backoff:c.backoff,retryTimeLimit:c.retryTimeLimit,task:function(b){d.coraljsonp({params:c.params,url:a,operation:c.operation,
resultNestedLocation:c.resultNestedLocation,requiredKeys:c.requiredKeys,timeout:c.timeout,logger:e.options.logger,onComplete:c.onComplete,isCoral:c.isCoral,crossDomainXhrEnabled:c.crossDomainXhrEnabled,jsonpChannel:c.jsonpChannel,onSuccess:function(a){b(!0);c.onSuccess&&c.onSuccess.apply(this,arguments);c.cacheTime&&e._cache.put(h,a,c.cacheTime)},onError:function(a,d,g,e){if(c.isUserErrorCode(a,d,g,e)){if(b(!0),c.onError)return c.onError.apply(this,arguments)}else return f=arguments,b(!1,"timeout"==
d?0:c.retryDelay)}})},onGiveUp:function(){if(c.onError)return c.onError.apply(this,f)}})};b.cstel.BaseServiceClient.prototype._requestCoralJson=function(b){var d=[];if("undefined"==typeof b.hasResult||b.hasResult)d=[b.operation+"Response",b.operation+"Result"],b.resultNestedLocation&&(d=d.concat(b.resultNestedLocation));b.isCoral=!0;b.resultNestedLocation=d;this._requestJson(b)}})(v);(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.c2c&&(b.c2c={});var p={test:{na:"https://c2c.integ.amazon.com",
fe:"https://c2c-fe.integ.amazon.com",eu:"https://c2c-eu.integ.amazon.com",cn:"https://c2c-cn.integ.amazon.com"},master:{na:"https://c2c-preprod.amazon.com",fe:"https://c2c-fe-preprod.amazon.com",eu:"https://c2c-eu-preprod.amazon.com",cn:"https://c2c-cn-preprod.amazon.com"},prod:{na:"https://c2c.amazon.com",fe:"https://c2c-fe.amazon.com",eu:"https://c2c-eu.amazon.com",cn:"https://c2c.amazon.cn"}};b.c2c.C2CServiceClient=function(c){this.constructor=b.c2c.C2CServiceClient;c=c||{};c.serviceHosts=p;b.cstel.BaseServiceClient.call(this,
c)};b.c2c.C2CServiceClient.prototype=new b.cstel.BaseServiceClient;b.c2c.C2CServiceClient.prototype.requestCallStatus=function(b){this._requestCoralJson(d.extend({operation:"getCallStatus",params:{callContextId:b.callContextId,supportAgentJoined:!0},requiredKeys:["callStatusCode"]},b))};b.c2c.C2CServiceClient.prototype.requestClick2CallStatus=function(b){if(b.c2cId)if(b.timezone)if(b.locale){var e=b.locale.match(/([a-z]{2})_?([A-Z]{2})/);3>e.length?(this._log.error("locale must match enUS or en_US format"),
b.onError()):this._requestCoralJson(d.extend({operation:"getClick2CallStatus",params:{c2cId:b.c2cId,widgetVersion:"@edgeCacheVersion@",timezone:b.timezone,languageCode:e[1],countryCode:e[2]},resultNestedLocation:["click2CallStatus"],requiredKeys:["isSkillInOpenHours","callableCountries","hoursOfOperation"]},b))}else this._log.error("missing locale"),b.onError();else this._log.error("missing timezone"),b.onError();else this._log.error("missing c2cId"),b.onError()};b.c2c.C2CServiceClient.prototype.disconnectCall=
function(b){this._requestCoralJson(d.extend({operation:"disconnectCall",params:{callContextId:b.contextId},hasResult:!1},b))};b.c2c.C2CServiceClient.prototype.initiateCall=function(b){b.contextId||this._log.warn("No contextId supplied!");var e=b.contextId;if(!e||5>e.length)e="";b.virtualCall=!!b.virtualCall;b.whenToCallMinutes=parseInt(b.whenToCallMinutes,10);isNaN(b.whenToCallMinutes)&&(b.whenToCallMinutes=0);this._requestCoralJson(d.extend({operation:"initiateCall",maxRetries:0,timeout:6E3,params:{c2cId:b.c2cId,
callAfterMins:b.whenToCallMinutes,"userCallbackNumber.phoneNumber":b.phoneNumber,"userCallbackNumber.country":b.countryCode,"userCallbackNumber.extensionDetails.extension":b.extension,"userCallbackNumber.extensionDetails.routeThroughReceptionist":b.viaReceptionist,callContextId:e,virtualCall:b.virtualCall}},b))};b.c2c.C2CServiceClient.prototype.initiateChat=function(b){b.contextId||this._log.warn("No contextId supplied!");var e=b.contextId;if(!e||5>e.length)e="";var a,e={c2cId:b.c2cId,contextId:e,
"userInfo.name":b.userName,"userInfo.initialQuestion":b.userInitialQuestion},f=b.preferences;if(f){var h=0;for(a in f)h++,e["userInfo.preferences.entry."+h+".key"]=a,e["userInfo.preferences.entry."+h+".value"]=f[a]}b.allowPhoneNumberIdentifier?(v.extend(e,{"userInfo.customerIdentifier":b.customerIdentifier,"userInfo.customerIdentifierType":b.customerIdentifierType,"userInfo.pushMsgParam":b.pushMessageParam,"userInfo.pushMsgMethod":b.pushMessageMethod}),a="initiateChatForCustomerIdentifier"):(v.extend(e,
{"userInfo.email":b.customerIdentifier}),a="initiateChat");b.reconnectToken&&(e.reconnectToken=b.reconnectToken);b.reconnectReasonDebugMessage&&(e.reconnectReasonDebugMessage=b.reconnectReasonDebugMessage);this._requestCoralJson(d.extend({operation:a,params:e,requiredKeys:["chatLegId","topicUrl","keepAliveInterval"]},b))};b.c2c.C2CServiceClient.prototype.initiateWorkItem=function(b){var e=b.contextId;if(!e||5>e.length)e="";this._requestCoralJson(d.extend({operation:"initiateWorkItem",params:{c2cId:b.c2cId,
contextId:e},requiredKeys:["workItemId","contextId"]},b))};b.c2c.C2CServiceClient.prototype.emailChatTranscript=function(b){this._requestCoralJson(d.extend({operation:"emailChatTranscript",params:{chatIds:b.chatIds,c2cId:b.c2cId,transcriptToken:b.transcriptToken,locale:b.locale},hasResult:!1},b))}})(v);(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.c2c&&(b.c2c={});b.c2c.C2CStatusChecker=function(p){this.options=d.extend({c2cId:null,timezone:"America/Los_Angeles",locale:"enUS",serviceEnv:"test",
serviceGeo:"na",onError:function(){},cache:!0,onCacheMiss:function(){},onCacheHit:function(){},alwaysLookupHours:!1,onOutOfHours:function(b,d){},onDisabled:function(b,d){},onNoAgents:function(b,d){},onAvailable:function(b,d,a){},fakeInHours:!1,fakeOutOfHours:!1,fakeAgentsAvail:!1,fakeAgentsUnavail:!1,logger:null,debug:!0},p);this.options.c2cId=TelephonyUtil.sanitizeGUID(this.options.c2cId);this.cacheTime=this.options.cache?6E4:0;this._log=this.options.logger;this._log||(this._log=b.cs.log.getLogger("C2CStatusChecker"),
this._log.setPrefix("[C2CStatusChecker]"),this._log.setLevel(this.options.debug?"DEBUG":"WARN"));this._c2cClient=new b.c2c.C2CServiceClient({serviceHost:this.options.c2cServiceHostOverride,serviceEnv:this.options.serviceEnv,serviceGeo:this.options.serviceGeo,logger:this._log})};b.c2c.C2CStatusChecker.prototype.setC2CId=function(b){this.options.c2cId=b};b.c2c.C2CStatusChecker.prototype.checkNow=function(){var b=this;this._lookupStatus(function(d){var e=!(d.isSkillInOpenHours||b.options.fakeInHours)||
b.options.fakeOutOfHours,a=!(d.areAgentsAvailable||b.options.fakeAgentsAvail)||b.options.fakeAgentsUnavail;if(d.c2cEnabled)if(e)b.options.onOutOfHours(d.hoursOfOperation,d);else if(a)b.options.onNoAgents(d.hoursOfOperation,d);else e=null,d.queueTime&&d.queueTime.available&&(e=d.queueTime.waitTime),b.options.onAvailable(e,d.hoursOfOperation,d);else b.options.onDisabled(d.hoursOfOperation,d)})};b.c2c.C2CStatusChecker.prototype.startPeriodicCheck=function(b){this.stopPeriodicCheck();var d=this;this._hoursCheckInterval=
window.setInterval(function(){d.checkNow()},1E3*(b||350))};b.c2c.C2CStatusChecker.prototype.stopPeriodicCheck=function(){window.clearInterval(this._hoursCheckInterval)};b.c2c.C2CStatusChecker.prototype._lookupStatus=function(b){var d=this;this._c2cClient.requestClick2CallStatus({c2cId:this.options.c2cId,locale:this.options.locale,timezone:this.options.timezone,cacheTime:this.cacheTime,onCacheMiss:this.options.onCacheMiss,onCacheHit:this.options.onCacheHit,onSuccess:b,onError:function(b,a,f,h){d.options.onError(b,
a,f,h)}})}})(v);(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.c2c&&(b.c2c={});b.c2c.nextClick2CallWidgetInstanceId=0;b.c2c.click2callWidgetInstances=[];b.c2c.callStatusCodes={INITIAL:"INITIAL",PENDING:"PENDING",DIALING:"DIALING",RINGING:"RINGING",CONNECTED:"CONNECTED",AGENT_JOINED:"AGENT_JOINED",BUSY:"BUSY",NO_ANSWER:"NO_ANSWER",ERROR:"ERROR",DISCONNECTED:"DISCONNECTED",UNKNOWN:"UNKNOWN"};b.c2c.userErrors={UnknownNumberFault:"UnknownNumberFault",NumberBlockedFault:"NumberBlockedFault",
MobileNumberNotAllowedFault:"MobileNumberNotAllowedFault",InvalidNumberLengthFault:"InvalidNumberLengthFault"};b.c2c.key={ENTER:13,TAB:9,BACKSPACE:8,KEYUP:38,KEYDOWN:40,PAGEUP:33,PAGEDOWN:34};b.c2c.defaultMasks={US:"(999) 999-9999"};b.c2c.leadingZeroPrefixCountries={IT:1,VA:1,CI:1,GA:1,GQ:1,IO:1,RW:1,SB:1,SM:1};b.c2c.OTHER_COUNTRY_CODE="OTHER";b.c2c.Click2CallWidget=function(a,f){this.instanceId=b.c2c.nextClick2CallWidgetInstanceId++;b.c2c.click2callWidgetInstances.push(this);this.options={click2TalkEnabled:!1,
c2cId:null,contextGUID:null,timezone:"America/Los_Angeles",locale:"enUS",allowExtension:!0,showExtensionInstructionsOnFocus:!0,autoTab:!0,enterKeyStartsCall:!0,allowBackspaceToPreviousField:!0,preventNonNumerics:!0,callMeButtonImgSrc:"",click2TalkButtonImgSrc:"",click2TalkVideoButtonImgSrc:"",placeCallButtonImgSrc:"",loadingButtonImgSrc:"",muteButtonImgSrc:"",unmuteButtonImgSrc:"",connectingButtonImgSrc:"",connectedButtonImgSrc:"",hangingUpButtonImgSrc:"",backButtonImgSrc:"",callMe5MinButtonImgSrc:"",
hangUpButtonImgSrc:"",cancelCallButtonImgSrc:"",sortCountries:!0,whenToCallOptions:[0,5],showWhenToCallOptionsAsButtons:!1,defaultNumberFormat:[[3,3],[3,3],[4,4]],animationEnabled:!0,animationDurationMs:500,animationEasingFunction:"linear",showTimeZone:!0,showDialingCode:!0,showDialingCodeExemptCountries:{US:1,CA:1,GU:1,VG:1,VI:1,PR:1},hideDialingCodeForSingleCountry:!0,showOtherCountryOption:!1,gotoCaseSubmittedForOtherCountry:!1,showCountriesMissingName:!1,debug:!0,showErrors:!0,serviceEnv:"test",
serviceGeo:"na",protocol:"https",serviceHost:null,serviceSecureHost:null,usingTrustedCall:!1,initiateTrustedCallCallback:function(){},onCallInitializationCallback:function(){},onWidgetResetCallback:function(){},initiateC2TCallback:function(){},preInitiateCallCallback:function(){},stateChangeCallback:function(){},callStatusChangeCallback:function(){},contextGUIDChangeCallback:function(){},postValidationCallback:function(){},errorCallback:function(){},savedPhoneNumbers:{},savedPhoneNumbersV2:{},messageOfTheDayTemplate:'\x3cdiv class\x3d"c2c-messageoftheday"\x3e%s\x3c/div\x3e',
additionalButtonMarkup:"",additionalFormMarkup:"",alwaysShowOutOfHours:!1,alwaysShowInHours:!1,alwaysShowAgentsAvail:!1,alwaysShowAgentsUnavail:!1,showDebugSection:!1,crossDomain:!0,staticJson:!1,allowCountryMasking:!1,customPhoneNumberField:null,onTheFlyValidation:!1,availableStateCallback:function(){},pollCallStatusCallback:function(){}};this.strings={initializing:"Loading...",availableHeader:"Request a call back",availableInstructions:"To talk with us, please enter your phone number.\x3cbr/\x3e(You'll need an open phone line to receive this call)",
willReceptionistAnswer:"Will a receptionist answer this call?",extensionTip:"Enter your extension here. You can type a comma (,) to add a pause.",extensionInstructions:"Enter your extension here. You can type a comma (,) to add a pause.",otherCountryInstructions:"Please include the international dialing code for your country below.",yourNumberTip:"Enter your phone number here, starting with the area code.",yourNumberFirstThreeDigits:"Enter the first three digits of your phone number here.",yourNumberLastFourDigits:"Enter the last four digits of your phone number here.",
notAvailableHeader:"Call back service unavailable",notAvailableBody:"\x3cp\x3eAt this time, our call back service is unavailable. Please contact us at 1-866-216-1072\x3c/p\x3e\x3cp\x3eThank you,\x3cbr/\x3eAmazon.com Customer Service\x3c/p\x3e",timedOutHeader:"We're sorry",timedOutBody:"\x3cp\x3eWe are unable to connect with our call back service. Please check your network connection or contact us at 1-866-216-1072\x3c/p\x3e\x3cp\x3eThank you,\x3cbr/\x3eAmazon.com Customer Service\x3c/p\x3e",queueCapExceededHeader:"We're sorry",
queueCapExceededBody:"\x3cp\x3eBecause of high call volumes, we cannot take your call at this time.\x3c/p\x3e",outOfHoursHeader:"Talk to us... just not right now!",outOfHoursBodyTop:"\x3cp\x3eOur customer service representatives are available:\x3c/p\x3e",outOfHoursBodyBottom:"\x3cp\x3eDuring normal hours, please take advantage  of our convenient callback service.\x3c/p\x3e",outOfHoursLoading:"",openAllDayHours:"Open all day",yes:"Yes",no:"No",labelCountry:"Country",labelYourNumber:"Your number",labelWhenToCall:"When to call",
labelExtension:"Ext.",callMeButton:"Call Me",callMeButtonDisabled:"(Disabled)",callMe5MinButton:"Call Me in 5 Minutes",hangUpButton:"Hang up",cancelCallButton:"Cancel call",backButton:"Back",backButtonAlt:"Back",click2TalkButton:"Call Online",click2TalkButtonAlt:"Call Online",click2TalkButtonTip:"",availableC2THeader:"Call us online",availableC2TInstructions:"Talk to a customer service associate using your computer's microphone and internet browser.",click2TalkVideoButton:"Call online with video",
click2TalkVideoButtonAlt:"Call online with video",click2TalkVideoButtonTip:"",placeCallButton:"Place Call",placeCallButtonAlt:"Place Call",muteButton:"Mute",muteButtonAlt:"Mute",unmuteButton:"Unmute",unmuteButtonAlt:"Unmute",toggleVideoButton:"Toggle Video",toggleVideoButtonAlt:"Toggle Video",connectingButton:"Connecting...",connectingButtonAlt:"Connecting...",connectedButton:"Connected...",connectedButtonAlt:"Connected...",hangingUpButton:"Hanging Up...",hangingUpButtonAlt:"Hanging Up...",loadingButton:"Loading...",
loadingButtonAlt:"Loading...",micErrorMessage:"No microphone found. Please connect a microphone and place call again.",micWebcamErrorMessage:"No microphone or webcam found. Please connect a microphone and webcam and place call again.",connectivityStatusGood:"Good",connectivityStatusWeak:"Weak",connectivityStatusBad:"Bad",connectivityStatusUnknown:"Unknown",connectivityMeter:"Connectivity:",callMeButtonAlt:"Call Me",callMeButtonTip:"",callMeButtonDisabledAlt:"(Disabled)",callMeButtonDisabledTip:"Finish entering your number",
hangUpButtonAlt:"Hang up",cancelCallButtonAlt:"Cancel call",estimateWait1Min:"Estimated wait: 1 minute",estimateWaitTime:"Estimated wait: %s minutes",whenToCallOptionNow:"Now",whenToCallOptionLater:"In %s minutes",startWebcallHeader:"Call Amazon Online",startWebcallMessage:"When ready, click Place Call to speak with Amazon Customer Service.\x3cbr/\x3eMake sure to have your computer's microphone and speakers turned on.",startWebcallStatus:"",virtualQueueHeader:"Waiting in line...",virtualQueueMessage:"When you phone rings, please answer it.\x3cbr/\x3eYou will hear ringing until the other party answers. ",
virtualQueueStatus:"You are currently in line for us to call you. Thanks for your patience!",connectingHeader:"Connecting...",connectingMessage:"When you phone rings, please answer it.\x3cbr/\x3eYou will hear ringing until the other party answers. ",connectingStatus:"Connecting your call...",ringingHeader:"Connecting...",ringingMessage:"When you phone rings, please answer it.\x3cbr/\x3eYou will hear ringing until the other party answers.",ringingStatus:"Ringing...",connectedHeader:"Call connected",
connectedMessage:"",connectedStatus:"Your call is now connected.",connectedAndReattachedHeader:"Call in progress",connectedAndReattachedMessage:"",connectedAndReattachedStatus:"Your call is still connected.",pendingHeader:"Waiting to call you",pendingMessage:"",pendingStatus:"... in about %s minute",pendingStatusPlural:"... in about %s minutes",pendingStatusWaitUnknown:"... at the time you have set.",callEndedHeader:"Call ended",callEndedMessage:"\x3cp\x3eYour call with us has ended.\x3c/p\x3e\x3cp\x3eIf you need to speak with us again, please \x3ca %s\x3eclick here\x3c/a\x3e to place another call.\x3c/p\x3e\x3cp\x3eThank you,\x3cbr/\x3eAmazon.com Customer Service.\x3c/p\x3e",
userErrorNumberBlockedFaultHeader:"We're sorry",userErrorNumberBlockedFaultMessage:"\x3cp\x3eYour number has been blocked from receiving calls from our call back service.\x3c/p\x3e\x3cp\x3ePlease contact 1-866-216-1072 for help with this.\x3c/p\x3e",userErrorUnknownNumberFaultHeader:"We're sorry",userErrorUnknownNumberFaultMessage:"\x3cp\x3eOur call back service has no knowledge of the area code you have entered.\x3c/p\x3e\x3cp\x3ePlease \x3ca %s\x3etry a different number\x3c/a\x3e or contact 1-866-216-1072.\x3c/p\x3e",
userErrorMobileNumberNotAllowedFaultHeader:"We're sorry",userErrorMobileNumberNotAllowedFaultMessage:"\x3cp\x3eWe cannot dial out to a cell phone number.\x3c/p\x3e\x3cp\x3ePlease \x3ca %s\x3eclick here\x3c/a\x3e to place a call to a different phone number.\x3c/p\x3e",userErrorInvalidNumberLengthFaultHeader:"We're sorry",userErrorInvalidNumberLengthFaultMessage:"\x3cp\x3eThe number you have entered appears to be invalid.\x3c/p\x3e\x3c/p\x3e\x3cp\x3ePlease \x3ca %s\x3etry a different number\x3c/a\x3e or contact 1-866-216-1072.\x3c/p\x3e",
userInternalFailureFaultHeader:"We're sorry",userInternalFailureFaultMessage:"\x3cp\x3eAn unexpected error occured.\x3c/p\x3e",invalidCharsError:"Please only enter numbers (0-9) in the fields below.",invalidCharsExtensionError:"Please only enter numbers (0-9), #, * or a comma (,) in your extension below.",tooShortError:"Please enter at least %s digits in the field below.",tooLongError:"Please enter no more than %s digits in the field below.",callStatusUpdateError:"Oops! We are having trouble updating the status of your call.",
caseSubmittedHeader:"Thank you",caseSubmittedMessage:"\x3cp\x3eA customer service representive will call you shortly.\x3c/p\x3e",dialingCodePrefix:"+",areaCodeLeft:"(",areaCodeRight:")",numberDelimiter:"-",dayRangeDelimiter:"-",dayRangeTerminator:":",hourRangeDelimiter:" - ",hourRangeListDelimiter:", ",am:"AM",pm:"PM",midnight:"Midnight",noon:"Noon",everyDayOfTheWeek:"Every day of the week",dayNameMonday:"Monday",dayNameTuesday:"Tuesday",dayNameWednesday:"Wednesday",dayNameThursday:"Thursday",dayNameFriday:"Friday",
dayNameSaturday:"Saturday",dayNameSunday:"Sunday","tzNameAmerica/Los_Angeles":"Pacific","tzNameEurope/London":"London","tzNameEurope/Paris":"Paris","tzNameEurope/Berlin":"Berlin","tzNameAsia/Tokyo":"Tokyo",countryNameOTHER:"Other...",countryNameAD:"Andorra",countryNameAE:"United Arab Emirates",countryNameAF:"Afghanistan",countryNameAL:"Albania",countryNameAM:"Armenia",countryNameAO:"Angola",countryNameAR:"Argentina",countryNameAT:"Austria",countryNameAU:"Australia",countryNameAW:"Aruba",countryNameAZ:"Azerbaijan",
countryNameBA:"Bosnia and Herzegovina",countryNameBD:"Bangladesh",countryNameBE:"Belgium",countryNameBF:"Burkina Faso",countryNameBG:"Bulgaria",countryNameBH:"Bahrain",countryNameBJ:"Benin",countryNameBN:"Brunei",countryNameBO:"Bolivia",countryNameBR:"Brazil",countryNameBS:"The Bahamas",countryNameBW:"Botswana",countryNameBY:"Belarus",countryNameCA:"Canada",countryNameCD:"Democratic Republic of the Congo",countryNameCG:"Republic of the Congo",countryNameCH:"Switzerland",countryNameCI:"Ivory Coast",
countryNameCL:"Chile",countryNameCM:"Cameroon",countryNameCN:"China",countryNameCO:"Colombia",countryNameCR:"Costa Rica",countryNameCU:"Cuba",countryNameCY:"Cyprus",countryNameCZ:"Czech Republic",countryNameDE:"Germany",countryNameDJ:"Djibouti",countryNameDK:"Denmark",countryNameDO:"Dominican Republic",countryNameDZ:"Algeria",countryNameEC:"Ecuador",countryNameEE:"Estonia",countryNameEG:"Egypt",countryNameER:"Eritrea",countryNameES:"Spain",countryNameET:"Ethiopia",countryNameFI:"Finland",countryNameFR:"France",
countryNameGA:"Gabon",countryNameGB:"United Kingdom",countryNameGE:"Georgia",countryNameGG:"Guernsey",countryNameGH:"Ghana",countryNameGM:"Gambia",countryNameGN:"Guinea",countryNameGQ:"Equatorial Guinea",countryNameGR:"Greece",countryNameGT:"Guatemala",countryNameGU:"Guam",countryNameHK:"Hong Kong",countryNameHN:"Honduras",countryNameHR:"Croatia",countryNameHT:"Haiti",countryNameHU:"Hungary",countryNameID:"Indonesia",countryNameIE:"Ireland",countryNameIL:"Israel",countryNameIM:"Isle of Man",countryNameIN:"India",
countryNameIQ:"Iraq",countryNameIR:"Iran",countryNameIS:"Iceland",countryNameIT:"Italy",countryNameJE:"Jersey",countryNameJM:"Jamaica",countryNameJO:"Jordan",countryNameJP:"Japan",countryNameKE:"Kenya",countryNameKG:"Kyrgyzstan",countryNameKH:"Cambodia",countryNameKP:"North Korea",countryNameKR:"South Korea",countryNameKW:"Kuwait",countryNameKZ:"Kazakhstan",countryNameLA:"Laos",countryNameLB:"Lebanon",countryNameLI:"Liechtenstein",countryNameLK:"Sri Lanka",countryNameLT:"Lithuania",countryNameLU:"Luxembourg",
countryNameLV:"Latvia",countryNameLY:"Libya",countryNameMA:"Morocco",countryNameMC:"Monaco",countryNameMD:"Moldova",countryNameME:"Montenegro",countryNameMG:"Madagascar",countryNameMK:"Macedonia",countryNameML:"Mali",countryNameMM:"Burma",countryNameMN:"Mongolia",countryNameMO:"Macau",countryNameMR:"Mauritania",countryNameMT:"Malta",countryNameMU:"Mauritius",countryNameMV:"Maldives",countryNameMW:"Malawi",countryNameMX:"Mexico",countryNameMY:"Malaysia",countryNameMZ:"Mozambique",countryNameNA:"Namibia",
countryNameNE:"Niger",countryNameNG:"Nigeria",countryNameNI:"Nicaragua",countryNameNL:"Netherlands",countryNameNO:"Norway",countryNameNP:"Nepal",countryNameNZ:"New Zealand",countryNameOM:"Oman",countryNamePA:"Panama",countryNamePE:"Peru",countryNamePG:"Papua New Guinea",countryNamePH:"Philippines",countryNamePK:"Pakistan",countryNamePL:"Poland",countryNamePR:"Puerto Rico",countryNamePS:"West Bank and Gaza",countryNamePT:"Portugal",countryNamePY:"Paraguay",countryNameQA:"Qatar",countryNameRO:"Romania",
countryNameRS:"Serbia",countryNameRU:"Russia",countryNameSA:"Saudi Arabia",countryNameSD:"Sudan",countryNameSE:"Sweden",countryNameSG:"Singapore",countryNameSI:"Slovenia",countryNameSK:"Slovakia",countryNameSL:"Sierra Leone",countryNameSM:"San Marino",countryNameSN:"Senegal",countryNameSO:"Somalia",countryNameSV:"El Salvador",countryNameSY:"Syria",countryNameTD:"Chad",countryNameTH:"Thailand",countryNameTJ:"Tajikistan",countryNameTM:"Turkmenistan",countryNameTN:"Tunisia",countryNameTR:"Turkey",countryNameTT:"Trinidad and Tobago",
countryNameTW:"Taiwan",countryNameTZ:"Tanzania",countryNameUA:"Ukraine",countryNameUG:"Uganda",countryNameUS:"United States",countryNameUY:"Uruguay",countryNameUZ:"Uzbekistan",countryNameVA:"Vatican City",countryNameVE:"Venezuela",countryNameVG:"Virgin Islands, British",countryNameVI:"Virgin Islands, U.S.",countryNameVN:"Vietnam",countryNameYE:"Yemen",countryNameZA:"South Africa",countryNameZM:"Zambia",countryNameZW:"Zimbabwe"};this.states={initial:{},available:{},outOfHours:{},callInProgress:{},
callEnded:{},notAvailable:{},queueCapExceeded:{},timedOut:{},userError:{},caseSubmitted:{}};for(var c in this.states)this.states[c].id=c;this.useVirtualQueue=!1;this.waitTimeEstimateMessage=null;this.startingWebcall=this.canWebcall=this.videoCallClicked=this.isWebcallVideoEnabled=this.isWebcallEnabled=!1;this.userErrorCode=this.audioContext=null;this.container=a;this.callStatusPollDelay=2E3;this.callStatusRetriesBeforeError=3;this.callStatusRetriesBeforeGivingUp=6;f.c2cId=TelephonyUtil.sanitizeGUID(f.c2cId);
f.contextGUID=TelephonyUtil.sanitizeGUID(f.contextGUID);f&&(d.extend(this.options,f),d.extend(this.strings,f.strings));f&&d.extend(this.urls,f.urls);f.strings&&f.strings.callMeButton||(this.strings.callMeButton='\x3cimg src\x3d"'+this.options.callMeButtonImgSrc+'" alt\x3d"'+this.strings.callMeButtonAlt+'" title\x3d"'+this.strings.callMeButtonTip+'"/\x3e');f.strings&&f.strings.callMeButtonDisabled||(this.strings.callMeButtonDisabled='\x3cimg src\x3d"'+this.options.callMeButtonDisabledImgSrc+'" alt\x3d"'+
this.strings.callMeButtonAlt+'" title\x3d"'+this.strings.callMeButtonTip+'"/\x3e');f.strings&&f.strings.cancelCallButton||(this.strings.cancelCallButton='\x3cimg src\x3d"'+this.options.cancelCallButtonImgSrc+'" alt\x3d"'+this.strings.cancelCallButtonAlt+'"/\x3e');f.strings&&f.strings.hangUpButton||(this.strings.hangUpButton='\x3cimg src\x3d"'+this.options.hangUpButtonImgSrc+'" alt\x3d"'+this.strings.hangUpButtonAlt+'"/\x3e');f.strings&&f.strings.backButton||(this.strings.backButton='\x3cimg src\x3d"'+
this.options.backButtonImgSrc+'" alt\x3d"'+this.strings.backButtonAlt+'"/\x3e');f.strings&&f.strings.click2TalkButton||(this.strings.click2TalkButton='\x3cimg src\x3d"'+this.options.click2TalkButtonImgSrc+'" alt\x3d"'+this.strings.click2TalkButtonAlt+'" title\x3d"'+this.strings.click2TalkButtonTip+'"/\x3e');f.strings&&f.strings.placeCallButton||(this.strings.placeCallButton='\x3cimg src\x3d"'+this.options.placeCallButtonImgSrc+'" alt\x3d"'+this.strings.placeCallButtonAlt+'"/\x3e');f.strings&&f.strings.connectingButton||
(this.strings.connectingButton='\x3cimg src\x3d"'+this.options.connectingButtonImgSrc+'" alt\x3d"'+this.strings.connectingButtonAlt+'"/\x3e');f.strings&&f.strings.connectedButton||(this.strings.connectedButton='\x3cimg src\x3d"'+this.options.connectedButtonImgSrc+'" alt\x3d"'+this.strings.connectedButtonAlt+'"/\x3e');f.strings&&f.strings.hangingUpButton||(this.strings.hangingUpButton='\x3cimg src\x3d"'+this.options.hangingUpButtonImgSrc+'" alt\x3d"'+this.strings.hangingUpButtonAlt+'"/\x3e');f.strings&&
f.strings.loadingButton||(this.strings.loadingButton='\x3cimg src\x3d"'+this.options.loadingButtonImgSrc+'" alt\x3d"'+this.strings.loadingButtonAlt+'"/\x3e');f.strings&&f.strings.click2TalkVideoButton||(this.strings.click2TalkVideoButton='\x3cimg src\x3d"'+this.options.click2TalkVideoButtonImgSrc+'" alt\x3d"'+this.strings.click2TalkVideoButtonAlt+'" title\x3d"'+this.strings.click2TalkVideoButtonTip+'"/\x3e');this.log=b.cs.log.getLogger("click2call");this.log.setPrefix("[c2c]");this.options.showErrors?
this.options.debug||this.log.setLevel("WARN"):this.log.setLevel("OFF");if(c=TelephonyUtil.getFromLocalStorage("c2cSavedPhoneNumbers"))this.log.debug("Existing numbers:",c),this.options.savedPhoneNumbers=d.extend({},c,this.options.savedPhoneNumbers);this.savedPhoneNumbers=this.options.savedPhoneNumbers;this.hoursOfOperation=null;this.c2cClient=new b.c2c.C2CServiceClient({serviceEnv:this.options.serviceEnv,serviceGeo:this.options.serviceGeo,protocol:this.options.protocol,serviceHost:this.options.serviceHost,
logger:this.log});this.states.initial.template='\x3cp\x3e\x3cdiv class\x3d"c2c-loader"\x3e \x3c/div\x3e'+this.strings.initializing+"\x3c/p\x3e"+this.options.additionalButtonMarkup;this.states.notAvailable.template='\x3ch3\x3e\x3cdiv class\x3d"c2c-errorLine"\x3e'+this.strings.notAvailableHeader+"\x3c/div\x3e\x3c/h3\x3e"+this.strings.notAvailableBody+this.options.additionalButtonMarkup;this.states.queueCapExceeded.template='\x3ch3\x3e\x3cdiv class\x3d"c2c-errorLine"\x3e'+this.strings.queueCapExceededHeader+
"\x3c/div\x3e\x3c/h3\x3e"+this.strings.queueCapExceededBody+this.options.additionalButtonMarkup;this.states.timedOut.template='\x3ch3\x3e\x3cdiv class\x3d"c2c-errorLine"\x3e'+(this.strings.timedOutHeader||this.strings.notAvailableHeader)+"\x3c/div\x3e\x3c/h3\x3e"+(this.strings.timedOutBody||this.strings.notAvailableBody)+this.options.additionalButtonMarkup;this.states.outOfHours.template="\x3ch3\x3e"+this.strings.outOfHoursHeader+"\x3c/h3\x3e"+this.strings.outOfHoursBodyTop+'\x3cdiv class\x3d"c2c-hours"\x3e'+
this.strings.outOfHoursLoading+"\x3c/div\x3e"+this.strings.outOfHoursBodyBottom+this.options.additionalButtonMarkup;this.states.available.template="\x3ch3\x3e"+this.strings.availableHeader+"\x3c/h3\x3e\x3cp\x3e"+this.strings.availableInstructions+'\x3c/p\x3e\x3cdiv class\x3d"c2c-form-row c2c-form-row-country"\x3e\x3clabel for\x3d"c2c-country'+this.instanceId+'"\x3e'+this.strings.labelCountry+'\x3c/label\x3e\x3clabel class\x3d"c2c-selectlabel"\x3e\x3cselect class\x3d"c2c-country" id\x3d"c2c-country'+
this.instanceId+'"\x3e\x3c/select\x3e\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"c2c-number-validation-error c2c-errorLine" style\x3d"display: none"\x3e\x3c/div\x3e\x3cdiv class\x3d"c2c-other-country-instructions c2c-warningLine" style\x3d"display: none"\x3e'+this.strings.otherCountryInstructions+'\x3c/div\x3e\x3cdiv class\x3d"c2c-extension-instructions c2c-warningLine" style\x3d"display: none"\x3e'+this.strings.extensionInstructions+'\x3c/div\x3e\x3cdiv class\x3d"c2c-form-row c2c-form-row-yournumber c2c-specific-country-elements"\x3e\x3clabel for\x3d"c2c-yournumber-'+
this.instanceId+'"\x3e'+this.strings.labelYourNumber+'\x3c/label\x3e\x3cspan class\x3d"c2c-dialing-code"\x3e\x3c/span\x3e\x3cspan class\x3d"c2c-yournumber-container"\x3e\x3c/span\x3e\x3cspan class\x3d"c2c-extension-container"\x3e\x3clabel class\x3d"c2c-extension-label" for\x3d"c2c-extension-'+this.instanceId+'"\x3e   '+this.strings.labelExtension+'\x3c/label\x3e\x3cinput class\x3d"c2c-extension" id\x3d"c2c-extension-'+this.instanceId+'" type\x3d"tel" title\x3d"'+this.strings.extensionTip+'"\x3e\x3c/input\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"c2c-form-row c2c-form-row-whentocall"\x3e\x3clabel for\x3d"c2c-whentocall-'+
this.instanceId+'"\x3e'+this.strings.labelWhenToCall+'\x3c/label\x3e\x3cselect class\x3d"c2c-whentocall" id\x3d"c2c-whentocall-'+this.instanceId+'"\x3e\x3c/select\x3e\x3c/div\x3e\x3cdiv class\x3d"c2c-form-row c2c-form-row-receptionist" style\x3d"display: none"\x3e\x3cspan class\x3d"c2c-receptionist-prompt"\x3e'+this.strings.willReceptionistAnswer+'\x3c/span\x3e\x3cinput type\x3d"radio" name\x3d"c2c-receptionist-radio" class\x3d"c2c-receptionist-radio" checked value\x3d"0"\x3e\x3c/input\x3e '+this.strings.no+
'\x3cinput type\x3d"radio" name\x3d"c2c-receptionist-radio" class\x3d"c2c-receptionist-radio" value\x3d"1"\x3e\x3c/input\x3e '+this.strings.yes+"\x3c/div\x3e"+this.options.additionalFormMarkup+'\x3cdiv class\x3d"c2c-callme-wait-time-estimate c2c-specific-country-elements"\x3e\x3c/div\x3e\x3cdiv class\x3d"c2c-form-row c2c-form-row-callme-button c2c-specific-country-elements"\x3e\x3cspan class\x3d"c2c-callme-button-spacer"\x3e\x3c/span\x3e\x3ca href\x3d"#" class\x3d"c2c-callme-button"\x3e'+this.strings.callMeButton+
"\x3c/a\x3e"+(this.options.onTheFlyValidation?'\x3cspan class\x3d"c2c-callme-button-disabled"\x3e'+this.strings.callMeButtonDisabled+"\x3c/span\x3e":"")+'\x3cspan class\x3d"c2c-callme-whentocall-buttons"\x3e\x3c/span\x3e'+this.options.additionalButtonMarkup+"\x3c/div\x3e";this.states.available.template+="\x3c/div\x3e";this.states.callInProgress.template='\x3ch3 class\x3d"c2c-inprogress-header"\x3e\x3c/h3\x3e\x3cspan class\x3d"c2c-inprogress-message"\x3e\x3c/span\x3e\x3cdiv class\x3d"c2c-inprogress-status"\x3e\x3cdiv class\x3d"c2c-inprogress-status-message"\x3e\x3c/div\x3e\x3cdiv class\x3d"webcall-container" style\x3d"display:none"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"c2c-inprogress-update-error c2c-errorLine" style\x3d"display:none"\x3e'+
this.strings.callStatusUpdateError+'\x3c/div\x3e\x3cdiv class\x3d"c2c-inprogress-wait-time-estimate"\x3e\x3c/div\x3e\x3cspan class\x3d"c2c-hangup-button-spacer"\x3e\x3c/span\x3e\x3ca href\x3d"#" class\x3d"c2c-hangup-button" style\x3d"display:none"\x3e'+this.strings.hangUpButton+'\x3c/a\x3e\x3ca href\x3d"#" class\x3d"c2c-cancelcall-button" style\x3d"display:none"\x3e'+this.strings.cancelCallButton+'\x3c/a\x3e\x3ca href\x3d"#" class\x3d"c2c-back-button" style\x3d"display:none"\x3e'+this.strings.backButton+
"\x3c/a\x3e"+this.options.additionalButtonMarkup;this.states.callEnded.template='\x3ch3 class\x3d"c2c-successLine c2c-callended-header"\x3e'+this.strings.callEndedHeader+'\x3c/h3\x3e\x3cspan class\x3d"c2c-callended-message"\x3e'+this.strings.callEndedMessage.replace(/%s/,'href\x3d"#" class\x3d"c2c-call-again-link"')+"\x3c/span\x3e"+this.options.additionalButtonMarkup;this.states.userError.template='\x3ch3 class\x3d"c2c-errorLine c2c-usererror-header"\x3e\x3c/h3\x3e\x3cspan class\x3d"c2c-usererror-message"\x3e\x3c/span\x3e'+
this.options.additionalButtonMarkup;this.states.caseSubmitted.template='\x3ch3 class\x3d"c2c-successLine c2c-casesubmitted-header"\x3e'+this.strings.caseSubmittedHeader+'\x3c/h3\x3e\x3cspan class\x3d"c2c-casesubmitted-message"\x3e'+this.strings.caseSubmittedMessage+"\x3c/span\x3e"};b.c2c.Click2CallWidget.prototype.updatec2cId=function(a){this.options.c2cId=TelephonyUtil.sanitizeGUID(a)};b.c2c.Click2CallWidget.prototype.initialize=function(){this._setState(this.states.initial)};b.c2c.Click2CallWidget.prototype.getString=
function(a){return this.strings[a]};b.c2c.Click2CallWidget.prototype.setContextGUID=function(a){this.options.contextGUID=a;"function"==typeof this.options.contextGUIDChangeCallback&&this.options.contextGUIDChangeCallback(a)};b.c2c.Click2CallWidget.prototype.getInstanceId=function(a){return this.instanceId};b.c2c.Click2CallWidget.prototype._find=function(a){return d(this.container).find(a)};b.c2c.Click2CallWidget.prototype._raiseEvent=function(a,b){b.widget=this;d(document).trigger("Click2Call/"+a,
b)};b.c2c.Click2CallWidget.prototype._setCallStatus=function(a){this.callStatus=a;"function"==typeof this.options.callStatusChangeCallback&&(this.options.callStatusChangeCallback(a),this._raiseEvent("CallStatusChange",{status:a}));this.log.debug("call status change: ",a)};b.c2c.Click2CallWidget.prototype._error=function(a){this.options.showErrors&&this.log.error(a);this.timedOut?this._setState(this.states.timedOut):this._setState(this.states.notAvailable);this.options.errorCallback(a);this._raiseEvent("Error",
{message:a})};b.c2c.Click2CallWidget.prototype._requestCallStatus=function(a,b){this.c2cClient.requestCallStatus({callContextId:this.options.contextGUID,onSuccess:a,onError:b,maxRetries:0})};b.c2c.Click2CallWidget.prototype._requestClick2CallStatus=function(a,b){this.c2cClient.requestClick2CallStatus({c2cId:this.options.c2cId,timezone:this.options.timezone,locale:this.options.locale,onSuccess:a,onError:b})};b.c2c.Click2CallWidget.prototype._disconnectCall=function(a,b){this.c2cClient.disconnectCall({contextId:this.options.contextGUID,
onSuccess:a,onError:b});this._setState(this.states.callEnded)};b.c2c.Click2CallWidget.prototype._clearPhoneNumberErrors=function(){this._find(".c2c-number-validation-error").hide();this._find(".c2c-invalid-field").removeClass("c2c-invalid-field")};b.c2c.Click2CallWidget.prototype._validatePhoneNumberFields=function(){var a=!1,f=[],c=[],g=[];this._getPhoneNumberFormat();this._find("input.c2c-yournumber").each(function(){d(this).removeClass("c2c-invalid-field");for(var a=this.getFieldObject().validate(),
e=0;e<a.length;e++){var l=a[e];l.constructor==b.c2c.InvalidCharsValidationError?f.push(l):l.constructor==b.c2c.TooShortValidationError?c.push(l):l.constructor==b.c2c.TooLongValidationError&&g.push(l)}});this._find("input.c2c-extension").each(function(){d(this).removeClass("c2c-invalid-field");d(this).val().match(/^[\d,#\*]*$/)||(a=!0)});var e=null,m=[];if(0<f.length)for(var e=f[0].getMessage(),q=0;q<f.length;q++)m.push(f[q].getFieldInError().getDomElement());else 0<c.length?(e=c[0].getMessage(),m.push(c[0].getFieldInError().getDomElement())):
0<g.length?(e=g[0].getMessage(),m.push(g[0].getFieldInError().getDomElement())):a&&(e=this.strings.invalidCharsExtensionError,m=this._find("input.c2c-extension"));d.each(m,function(){d(this).addClass("c2c-invalid-field")});e&&this._animateShow(d(this.container).find(".c2c-number-validation-error").html(e));return!e};b.c2c.Click2CallWidget.prototype._animateShow=function(a){d(a).amznSafeShow({animate:this.options.animationEnabled,durationMs:this.options.animationDurationMs,easingFunction:this.options.animationEasingFunction})};
b.c2c.Click2CallWidget.prototype._animateHide=function(a){d(a).amznSafeHide({animate:this.options.animationEnabled,durationMs:this.options.animationDurationMs,easingFunction:this.options.animationEasingFunction})};b.c2c.Click2CallWidget.prototype.postInitiateCallCallback=function(a){if(a&&"string"==typeof a.contextId&&0<a.contextId.length)return this.setContextGUID(a.contextId),!1;if(a&&"string"==typeof a.callContextId&&0<a.callContextId.length)return this.setContextGUID(a.callContextId),!1;this._setState(this.states.notAvailable);
a&&"undefined"!=typeof b.c2c.userErrors[a.error]?(this.userErrorCode=a.error,this._setState(this.states.userError)):this._error("Failed to call - non-user error: "+(a?a.error:"no response sent"));return!0};b.c2c.Click2CallWidget.prototype._trustedCall=function(a,b,d,c,e){var m=this;this.options.onCallInitializationCallback();var q=this.options.initiateTrustedCallCallback(this,{phoneNumber:a,country:b,extensionDetails:{extension:d,routeThroughReceptionist:c}},{callAfterMins:parseInt(e,10),virtualCall:!!m.useVirtualQueue});
if(q&&"undefined"!=typeof q.onloadend){var p=q.onloadend;q.onloadend=function(){var a=JSON.parse(q.response);m.postInitiateCallCallback(a);"function"==typeof p&&p();return q}}else if(q&&"function"==typeof q.done)q.done(function(a){m.postInitiateCallCallback(a);return q});else return m.postInitiateCallCallback(q),q};b.c2c.Click2CallWidget.prototype._call=function(a,b,d,c,e,m){var q={},p=this;this.options.preInitiateCallCallback(this,{base:m,countryCode:b,ext:d,receptionist:c});this.c2cClient.initiateCall({c2cId:this.options.c2cId,
contextId:this.options.contextGUID,whenToCallMinutes:e,phoneNumber:a,countryCode:b,extension:d,viaReceptionist:c,virtualCall:!!this.useVirtualQueue,onSuccess:function(a,b){q=a;p.postInitiateCallCallback(q)},onError:function(a,b,d,f){p.postInitiateCallCallback({error:f});q=""}});return q};b.c2c.Click2CallWidget.prototype._initiateCall=function(a){if(this._validatePhoneNumberFields()){this._savePhoneNumber();"undefined"===typeof a&&(a=this.options.showWhenToCallOptionsAsButtons?0:this._find("select.c2c-whentocall").val());
this.callInitiatedTime=(new Date).getTime();var d=this._getCurrentCountry();this.estimatedCallBackTime=this.callInitiatedTime+6E4*a;var c=this._find("input"),e=c.filter(".c2c-extension").val(),k=!1;e&&(k=c.filter('.c2c-receptionist-radio[value\x3d"1"]').is(":checked"));var m=[];c.filter(".c2c-yournumber").each(function(){var a=this.getFieldObject().getValue();m.push(a)});c=m.join("");if("function"!==typeof this.options.postValidationCallback||!1!==this.options.postValidationCallback(this,c)){this.callStatusPollingEnabled=
this.reattached=!1;d!==b.c2c.OTHER_COUNTRY_CODE&&(this._setCallStatus(0===a?b.c2c.callStatusCodes.DIALING:b.c2c.callStatusCodes.PENDING),this._setState(this.states.callInProgress));var q={};(q=this.options.usingTrustedCall?this._trustedCall(c,d,e,k,a):this._call(c,d,e,k,a,m))&&"undefined"!=typeof q.callStatusPollDelay&&(this.callStatusPollDelay=q.callStatusPollDelay);this.callStatusPollingEnabled=!0;d===b.c2c.OTHER_COUNTRY_CODE&&this.options.gotoCaseSubmittedForOtherCountry&&this._setState(this.states.caseSubmitted)}}};
b.c2c.Click2CallWidget.prototype._tryPopulateWaitTimeEstimate=function(a){a=this._find(a);if(null===a)return!1;if(null===this.waitTimeEstimateMessage)return a.empty(),!1;this.log.debug(this.waitTimeEstimateMessage);a.html(this.waitTimeEstimateMessage);return!0};b.c2c.Click2CallWidget.prototype._populateWhenToCall=function(){for(var a=this,b=this._find(".c2c-whentocall"),c=this._find(".c2c-callme-whentocall-buttons"),e=0;e<this.options.whenToCallOptions.length;e++){var k=this.options.whenToCallOptions[e];
if(!(null!=a.timeToClosing&&a.timeToClosing<6E4*k))if(this.options.showWhenToCallOptionsAsButtons){if(0!==k){var m=document.createElement("a");m.href="#";m.className="c2c-callme-later-button c2c-callme-in-"+k+"min-button";d(m).html(this.strings["callMe"+k+"MinButton"]);d(m).click(function(b){a._initiateCall(k);b.preventDefault()});c.append(m)}}else m=0===k?this.strings.whenToCallOptionNow:this.strings.whenToCallOptionLater.replace(/%s/,k),b.append('\x3coption value\x3d"'+k+'"\x3e'+m+"\x3c/option\x3e")}};
b.c2c.Click2CallWidget.prototype._populateCountries=function(){var a=this._find(".c2c-country");this.fixedCountryCode=null;this.countryCodesInOrder&&1==this.countryCodesInOrder.length&&(this.fixedCountryCode=this.countryCodesInOrder[1],this._find(".c2c-form-row-country").hide());for(var d=[],c=this.countryCodesInOrder.length,e=0;e<c;e++){var k=this.countryCodesInOrder[e],m=this.strings["countryName"+k];m?d.push({code:k,name:m}):this.options.showCountriesMissingName&&d.push({code:k,name:k})}c=d.slice(1);
this.options.sortCountries&&c.sort(function(a,d){return a.code===b.c2c.OTHER_COUNTRY_CODE?1:d.code===b.c2c.OTHER_COUNTRY_CODE?-1:0<a.name.localeCompare(d.name)?1:0>a.name.localeCompare(d.name)?-1:0});d=[d[0]].concat(c);c=d.length;for(e=0;e<c;e++)k=d[e],a.append('\x3coption value\x3d"'+k.code+'"\x3e'+k.name+"\x3c/option\x3e")};b.c2c.Click2CallWidget.prototype._savePhoneNumberValues=function(a,b,d,c){this.savedPhoneNumbers[a]={base:b,ext:d,receptionist:c};TelephonyUtil.putInLocalStorage("c2cSavedPhoneNumbers",
this.savedPhoneNumbers);TelephonyUtil.putInLocalStorage("c2cSavedLastCountry",a)};b.c2c.Click2CallWidget.prototype._savePhoneNumber=function(){var a=this._getCurrentCountry(),b=[];this._find("input.c2c-yournumber").each(function(){b.push(d(this).val())});var c=this._find("input.c2c-extension").val(),e=this._find('input.c2c-receptionist-radio[value\x3d"1"]').is(":checked");this._savePhoneNumberValues(a,b,c,e)};b.c2c.Click2CallWidget.prototype._restorePhoneNumber=function(){var a=this._getCurrentCountry(),
b=this.savedPhoneNumbers[a];b&&(this._find("input.c2c-yournumber").each(function(a){(a=b.base[a])&&d(this).val(a)}),this.options.allowExtension&&this._find("input.c2c-extension").val(b.ext),"string"==typeof b.ext&&0<b.ext.length&&this.options.allowExtension?this._find("div.c2c-form-row-receptionist").show():this._find("div.c2c-form-row-receptionist").hide(),b.receptionist?this._find('input.c2c-receptionist-radio[value\x3d"1"]').attr("checked",!0):this._find('input.c2c-receptionist-radio[value\x3d"0"]').attr("checked",
!0))};b.c2c.Click2CallWidget.prototype._getNumberField=function(a){a=a[1];var b=document.createElement("input");b.id="c2c-yournumber-"+this.instanceId;b.className="c2c-yournumber";b.type="text";b.maxLength=a;b.style.width=a+"em";b.title=this.strings.yourNumberTip;return b};b.c2c.Click2CallWidget.prototype._getCurrentCountry=function(){return this.fixedCountryCode?this.fixedCountryCode:this._find(".c2c-country").val()};b.c2c.Click2CallWidget.prototype._getCurrentCountryConfig=function(){var a=this._getCurrentCountry();
return this.callableCountries[a]};b.c2c.Click2CallWidget.prototype._getPhoneNumberFormat=function(a){return(a||this._getCurrentCountryConfig()).fields||this.options.defaultNumberFormat};var p=function(a){return 3==a.length&&3==a[0].minLength&&3==a[0].maxLength&&3==a[1].minLength&&3==a[1].maxLength&&4==a[2].minLength&&4==a[2].maxLength?!0:!1};b.c2c.Click2CallWidget.prototype._updateNumberFormat=function(){var a=this._find(".c2c-yournumber-container");a.empty();var f=this._getCurrentCountryConfig(),
c=this._getPhoneNumberFormat(f);!this.options.showDialingCode||this.options.showDialingCodeExemptCountries[f.countryCode]||1==this.countryCodesInOrder.length&&this.options.hideDialingCodeForSingleCountry?this._find("span.c2c-dialing-code").hide():this._find("span.c2c-dialing-code").show().html(this.strings.dialingCodePrefix+f.dialingCode);this._getCurrentCountry();if(this.options.allowCountryMasking&&p(c))a.append((new b.c2c.SinglePhoneNumberField({minLength:10,maxLength:10},this)).getDomElement()),
a.children(".c2c-yournumber").inputmask(b.c2c.defaultMasks.US,{placeholder:" "});else if(1<c.length){a.append(this.strings.areaCodeLeft);var e=(new b.c2c.DividedPhoneNumberField(c[0],this)).getDomElement();a.append(e);f.defaultAreaCode&&d(e).val(f.defaultAreaCode);a.append(this.strings.areaCodeRight);for(e=1;e<c.length;e++)1!=e&&a.append(this.strings.numberDelimiter),a.append((new b.c2c.DividedPhoneNumberField(c[e],this)).getDomElement())}else a.append((new b.c2c.SinglePhoneNumberField(c[0],this)).getDomElement());
this.options.autoTab&&a.children(".c2c-yournumber").keyup(function(a){this.value.length==this.maxLength&&32<a.which&&d(this).next(".c2c-yournumber").focus().select().attr("justEntered","true")});var k=this,e=function(a){setTimeout(function(){k._validatePhoneNumberFields()?(d(".c2c-callme-button").show(),d(".c2c-callme-button-disabled").hide()):(d(".c2c-callme-button").hide(),d(".c2c-callme-button-disabled").show());a&&a.which==b.c2c.key.ENTER&&k.options.enterKeyStartsCall||k._clearPhoneNumberErrors()},
5)},a=a.children("input[type\x3dtext], input[type\x3dtel]").keydown(function(a){if(a.which==b.c2c.key.ENTER&&k.options.enterKeyStartsCall)k._initiateCall();else if(k.options.allowBackspaceToPreviousField&&a.which===b.c2c.key.BACKSPACE&&0===this.value.length){var f=d(this).prev(".c2c-yournumber");f.focus();f.focus().val(f.val())}k.options.autoTab&&"true"==d(this).attr("justEntered")&&(a.which==b.c2c.key.TAB&&a.preventDefault(),d(this).attr("justEntered","false"));k.options.preventNonNumerics&&1<c.length&&
(109==a.which||189==a.which||190==a.which||110==a.which||57==a.which&&a.shiftKey||48==a.which&&a.shiftKey)&&a.preventDefault()});k.options.onTheFlyValidation&&(a.change(e).keypress(e).keydown(e).focus(e).blur(e).click(e).bind("paste",e).bind("cut",e),e());this._clearPhoneNumberErrors();f.countryCode===b.c2c.OTHER_COUNTRY_CODE?k._animateShow(d(this.container).find("div.c2c-other-country-instructions")):k._animateHide(d(this.container).find("div.c2c-other-country-instructions"));this._find(".c2c-extension").val("")};
b.c2c.Click2CallWidget.prototype._isCallInProgress=function(){switch(this.callStatus){case b.c2c.callStatusCodes.INITIAL:case b.c2c.callStatusCodes.PENDING:case b.c2c.callStatusCodes.DIALING:case b.c2c.callStatusCodes.RINGING:case b.c2c.callStatusCodes.CONNECTED:case b.c2c.callStatusCodes.AGENT_JOINED:return!0;default:return!1}};b.c2c.Click2CallWidget.prototype._isCallWaiting=function(){switch(this.callStatus){case b.c2c.callStatusCodes.INITIAL:case b.c2c.callStatusCodes.PENDING:case b.c2c.callStatusCodes.CONNECTED:return!0;
default:return!1}};b.c2c.Click2CallWidget.prototype._isCustomerConnected=function(){return this.callStatus===b.c2c.callStatusCodes.CONNECTED};b.c2c.Click2CallWidget.prototype._isCallEnded=function(){return!this._isCallInProgress()&&this.callStatus!=b.c2c.callStatusCodes.INITIAL&&this.callStatus!=b.c2c.callStatusCodes.UNKNOWN};b.c2c.Click2CallWidget.prototype._postRenderInitialState=function(){var a=this;navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)?a.canWebcall=!1:window.chrome&&
a.options.click2TalkEnabled?(a.canWebcall=!0,null===a.audioContext&&(a.audioContext=new AudioContext)):a.canWebcall=!1;var d=function(d){d.messageOfTheDay&&(a.messageOfTheDay=d.messageOfTheDay);if(!1===d.c2cEnabled)a._error("c2cEnabled is false");else if(!d.areAgentsAvailable&&d.isSkillInOpenHours&&!a.options.alwaysShowAgentsAvail||a.options.alwaysShowAgentsUnavail)a._error("areAgentsAvailable is not true (value is "+!(!d.areAgentsAvailable||a.options.alwaysShowAgentsUnavail)+")");else{var f=d.callableCountries;
a.callableCountries={};a.countryCodesInOrder=[];if(f)for(var c=f.length,e=0;e<c;e++){var h=f[e],B=h.country;"string"==typeof B&&(B=B.toUpperCase());h.countryCode=B;a.callableCountries[B]=h;a.countryCodesInOrder.push(B)}f={};a.options.savedPhoneNumbersV2&&(f=v.extend(!0,{},a.options.savedPhoneNumbersV2));v.each(f,function(d,f){var c=a.callableCountries[d];if(c&&a._getPhoneNumberFormat(c)){var e=a._getPhoneNumberFormat(c);a.options.allowCountryMasking&&p(e)?(a.savedPhoneNumbers[d]={},a.savedPhoneNumbers[d].ext=
c.defaultAreaCode,a.savedPhoneNumbers[d].receptionist=!1,a.savedPhoneNumbers[d].base=a._getPhoneNumberStringInMaskedFormat(f,b.c2c.defaultMasks.US)):a._validatePhoneNumberStr(f,e)&&(a.savedPhoneNumbers[d]={},a.savedPhoneNumbers[d].base=a._formatPhoneNumberStringInGivenFormat(f,e),a.savedPhoneNumbers[d].ext=c.defaultAreaCode,a.savedPhoneNumbers[d].receptionist=!1)}});f=TelephonyUtil.getFromLocalStorage("c2cSavedLastCountry");a.options.autoSelectCountry&&a.callableCountries[a.options.autoSelectCountry]&&
(f=a.options.autoSelectCountry);f&&(f=f.toUpperCase(),f=a.countryCodesInOrder.indexOf(f),-1!=f&&TelephonyUtil.arrayMove(a.countryCodesInOrder,f,0));a.options.showOtherCountryOption&&(a.countryCodesInOrder.push(b.c2c.OTHER_COUNTRY_CODE),a.callableCountries[b.c2c.OTHER_COUNTRY_CODE]={countryCode:b.c2c.OTHER_COUNTRY_CODE,dialingCode:"",fields:[{minLength:2,maxLength:100}]});!1===d.extensionsAllowed&&(a.options.allowExtension=!1);a.hoursOfOperation=d.hoursOfOperation;a.timeToClosing=d.timeToClosing;f=
(f=(f=!d.isSkillInOpenHours)||a.options.alwaysShowOutOfHours)&&!a.options.alwaysShowInHours;a.useVirtualQueue=!1;c=null;null!==d.queueTime&&d.queueTime.available&&(a.useVirtualQueue=!!d.isVirtualQueueEnabled,c=d.queueTime.waitTime);d.isWebcallEnabled&&(a.isWebcallEnabled=d.isWebcallEnabled);d.isWebcallVideoEnabled&&(a.isWebcallVideoEnabled=d.isWebcallVideoEnabled);a._updateWaitTimeEstimateMessage(c);f?a._setState(a.states.outOfHours):d.isQueueCapExceeded?a._setState(a.states.queueCapExceeded):a._setState(a.states.available)}},
c=function(){a._error("Could not get c2c status")};e();this.options.contextGUID?this._requestCallStatus(function(b){a._setCallStatus(b.callStatusCode);a._isCallInProgress()?(a._updateWaitTimeEstimateMessage(a._isCallWaiting()?b.estimatedWaitTime:null),a.reattached=!0,a.callStatusPollingEnabled=!0,a._setState(a.states.callInProgress)):a._requestClick2CallStatus(d,c)},function(b){a.setContextGUID(null);a.initialize()}):this._requestClick2CallStatus(d,c)};b.c2c.Click2CallWidget.prototype._updateWaitTimeEstimateMessage=
function(a){this.waitTimeEstimateMessage=null;if(null!==a){try{a=parseInt(a,10)}catch(b){return}0<=a&&(45E3>=a?this.waitTimeEstimateMessage=this.strings.estimateWait1Min:(a=Math.ceil((a+15E3)/6E4),this.waitTimeEstimateMessage=this.strings.estimateWaitTime.replace(/%s/,a)))}};b.c2c.Click2CallWidget.prototype._postRenderOutOfHoursState=function(){d(this.container).find(".c2c-hours").amznHoursOfOperationUI({hours:this.hoursOfOperation,strings:this.strings,timezone:this.options.timezone,showTimeZone:this.options.showTimeZone});
c()};var c=function(){v("#mob-cu-call-me-now").hide()},e=function(){v("#mob-cu-call-me-now").show()};b.c2c.Click2CallWidget.prototype._postRenderQueueCapExceededStatus=function(){c()};b.c2c.Click2CallWidget.prototype._postRenderNotAvailableState=function(){c()};b.c2c.Click2CallWidget.prototype._postRenderAvailableState=function(){var a=this;a.options.availableStateCallback();this._populateCountries();this._find(".c2c-country").change(function(){a._updateNumberFormat();a._restorePhoneNumber()});this._find(".c2c-country").keyup(function(d){if(d.which==
b.c2c.key.KEYUP||d.which==b.c2c.key.KEYDOWN||d.which==b.c2c.key.PAGEUP||d.which==b.c2c.key.PAGEDOWN)a._updateNumberFormat(),a._restorePhoneNumber()});this._updateNumberFormat();this._restorePhoneNumber();var f=this._tryPopulateWaitTimeEstimate(".c2c-callme-wait-time-estimate")&&this.useVirtualQueue;(f||this.options.showWhenToCallOptionsAsButtons)&&this._find("div.c2c-form-row-whentocall").hide();f||this._populateWhenToCall();if(this.options.allowExtension){var f=this._find("input.c2c-extension"),
c=this._find("div.c2c-form-row-receptionist");0<f.val().length?c.show():c.hide();this._find("input.c2c-extension").keyup(function(){0<d(this).val().length?a._animateShow(c):c.hide(a.options.receptionistPromptToggleSpeed)});this.options.showExtensionInstructionsOnFocus&&d(this.container).find("input.c2c-extension").focus(function(){a._animateShow(d(a.container).find("div.c2c-extension-instructions"))}).end().find("input.c2c-extension").blur(function(){a._animateHide(d(a.container).find("div.c2c-extension-instructions"))});
this._find("input.c2c-yournumber").focus(function(){a._animateHide(d(a.container).find("div.c2c-errorLine"))});this._find("input.c2c-extension").focus(function(){a._animateHide(d(a.container).find("div.c2c-errorLine"))})}else this._find(".c2c-extension-label").hide().end().find(".c2c-extension").hide();this._find("a.c2c-callme-button").click(function(b){b.preventDefault();a._initiateCall()});a.startingWebcall=!1;this.isWebcallEnabled&&this.canWebcall&&(this._find("a.c2t-call-button").click(function(d){d.preventDefault();
a.startingWebcall=!0;a.videoCallClicked=!1;a._setCallStatus(b.c2c.callStatusCodes.INITIAL);a._setState(a.states.callInProgress)}),this.isWebcallVideoEnabled&&this._find("a.c2t-call-video-button").click(function(d){d.preventDefault();a.startingWebcall=!0;a.videoCallClicked=!0;a._setCallStatus(b.c2c.callStatusCodes.INITIAL);a._setState(a.states.callInProgress)}));e()};b.c2c.Click2CallWidget.prototype._updateUserErrorStrings=function(){var a=this.strings["userError"+this.userErrorCode+"Header"],b=this.strings["userError"+
this.userErrorCode+"Message"];if("undefined"==typeof a||"undefined"==typeof b)throw"Missing strings for "+this.userErrorCode;b=b.replace(/%s/,'href\x3d"#" class\x3d"c2c-call-again-link"');this._find("h3.c2c-usererror-header").html(a).end().find("span.c2c-usererror-message").html(b).end()};b.c2c.Click2CallWidget.prototype._updateInProgressStrings=function(){var a,d=!1;this._tryPopulateWaitTimeEstimate(".c2c-inprogress-wait-time-estimate");switch(this.callStatus){case b.c2c.callStatusCodes.INITIAL:case b.c2c.callStatusCodes.DIALING:case b.c2c.callStatusCodes.UNKNOWN:a=
this.startingWebcall?"startWebcall":this.useVirtualQueue?"virtualQueue":"connecting";break;case b.c2c.callStatusCodes.RINGING:a="ringing";break;case b.c2c.callStatusCodes.CONNECTED:a=this.reattached?"connectedAndReattached":"connected";d=!0;break;case b.c2c.callStatusCodes.PENDING:a="pending"}d?(this._find("a.c2c-hangup-button").show(),this._find("a.c2c-cancelcall-button").hide(),this._find("a.c2c-back-button").hide()):(this._find("a.c2c-hangup-button").hide(),this.startingWebcall?(this._find("a.c2c-back-button").show(),
this._find("a.c2c-cancelcall-button").hide()):(this._find("a.c2c-cancelcall-button").show(),this._find("a.c2c-back-button").hide()));var d=this.strings[a+"Header"],c=this.strings[a+"Message"];a=this.strings[a+"Status"];if(this.callStatus==b.c2c.callStatusCodes.PENDING)if(this.callInitiatedTime){var e=(new Date).getTime(),k=Math.max(1,Math.ceil((this.estimatedCallBackTime-e)/6E4));1!=k&&(a=this.strings.pendingStatusPlural);this.log.debug("pending time: now:",e,"estimatedCallBackTime:",this.estimatedCallBackTime);
a=a.replace(/%s/,k)}else a=this.strings.pendingStatusWaitUnknown;this._find("h3.c2c-inprogress-header").html(d).end().find("span.c2c-inprogress-message").html(c).end().find("div.c2c-inprogress-status").find("div.c2c-inprogress-status-message").html(a)};b.c2c.Click2CallWidget.prototype._bindCallAgainLink=function(){var a=this;this._find("a.c2c-call-again-link").click(function(b){a._setState(a.states.initial);a.options.onWidgetResetCallback();b.preventDefault()})};b.c2c.Click2CallWidget.prototype._postRenderUserErrorState=
function(){try{this._updateUserErrorStrings()}catch(a){this._error("Error updating userError state strings: "+a);return}c();this._bindCallAgainLink()};b.c2c.Click2CallWidget.prototype._postRenderCallEndedState=function(){c();this._bindCallAgainLink()};b.c2c.Click2CallWidget.prototype.changeWebcallStatus=function(a){this._setCallStatus(a);this._isCallEnded()?this._setState(this.states.callEnded):this._updateInProgressStrings()};b.c2c.Click2CallWidget.prototype._pollCallStatus=function(a){var b=this;
b.state==b.states.callInProgress&&(b.callStatusPollingEnabled?b._requestCallStatus(function(c){b.options.pollCallStatusCallback({isCustomerConnected:b._isCustomerConnected()});b.log.debug("Seq: ",a.sequenceId," Last: ",b.lastCallStatusSequenceId);a.sequenceId==b.lastCallStatusSequenceId&&b.state==b.states.callInProgress&&(d(b.container).find(".c2c-inprogress-update-error").hide(),b._setCallStatus(c.callStatusCode),b.log.debug("call status poll:",b.callStatus),b._isCallEnded()?b._setState(b.states.callEnded):
(b._updateWaitTimeEstimateMessage(b._isCallWaiting()?c.estimatedWaitTime:null),b._updateInProgressStrings(),b._scheduleNextCallStatusPoll()))},function(){if(b.state==b.states.callInProgress){if(0<a.retriesLeft){a.retriesLeft--;var c=1E3*Math.pow(b.callStatusPollDelay/1E3,b.callStatusRetriesBeforeGivingUp-a.retriesLeft-1);b.log.debug("did not get status, retries before giving up:",a.retriesLeft,"backoff ms:",c);b._scheduleNextCallStatusPoll(a,c)}a.retriesLeft==b.callStatusRetriesBeforeError&&(d(b.container).find(".c2c-successLine").hide(),
d(b.container).find(".c2c-inprogress-status").hide(),d(b.container).find(".c2c-inprogress-update-error").show());return!0}}):b._scheduleNextCallStatusPoll())};b.c2c.Click2CallWidget.prototype._scheduleNextCallStatusPoll=function(a,b){"undefined"==typeof b&&(b=0);"undefined"==typeof this.lastCallStatusSequenceId&&(this.lastCallStatusSequenceId=0);"undefined"==typeof a&&(a={retriesLeft:this.callStatusRetriesBeforeGivingUp});a.sequenceId=++this.lastCallStatusSequenceId;var d=this.callStatusPollDelay;
0<b&&(d+=b);var c=this;window.setTimeout(function(){c._pollCallStatus(a)},d)};b.c2c.Click2CallWidget.prototype._postRenderCallInProgressState=function(){this._updateInProgressStrings();var a=this;a.startingWebcall?(a._find("a.c2c-back-button").unbind("click").click(function(b){a.changeWebcallStatus(a.states.callEnded);b.preventDefault()}),a._find("div.webcall-container").show(),(new b.c2c.SipmlAdapter(a)).initSipmlWebcall()):(a._find("div.webcall-container").hide(),a._find("a.c2c-hangup-button, a.c2c-cancelcall-button").unbind("click").click(function(b){a._disconnectCall();
b.preventDefault()}),a._scheduleNextCallStatusPoll());c()};b.c2c.Click2CallWidget.prototype._setStateClass=function(a){for(var b in this.states)b==a?d(this.container).addClass("c2c-state-"+b):d(this.container).removeClass("c2c-state-"+b)};b.c2c.Click2CallWidget.prototype._setState=function(b){this.state=b;this.renderTemplate();switch(b){case this.states.initial:this._postRenderInitialState();break;case this.states.available:this._postRenderAvailableState();break;case this.states.outOfHours:this._postRenderOutOfHoursState();
break;case this.states.callInProgress:this._postRenderCallInProgressState();break;case this.states.callEnded:this.setContextGUID(null);this._postRenderCallEndedState();break;case this.states.userError:this.setContextGUID(null);this._postRenderUserErrorState();break;case this.states.notAvailable:this._postRenderNotAvailableState();break;case this.states.queueCapExceeded:this.setContextGUID(null),this._postRenderQueueCapExceededStatus()}"function"==typeof this.options.stateChangeCallback&&(this.options.stateChangeCallback(b.id),
this._raiseEvent("StateChange",{state:b.id}))};b.c2c.Click2CallWidget.prototype.renderTemplate=function(){var b=this.state.template,c=this.options.messageOfTheDay||this.messageOfTheDay;c&&(b+=this.options.messageOfTheDayTemplate.replace(/%s/,c));this.state===this.states.available&&this.isWebcallEnabled&&this.canWebcall&&(b+="\x3ch4\x3e"+this.strings.availableC2THeader+"\x3c/h4\x3e\x3cp\x3e"+this.strings.availableC2TInstructions+'\x3c/p\x3e\x3cdiv class\x3d"c2t-form-row"\x3e\x3cspan class\x3d"c2c-callme-button-spacer"\x3e\x3c/span\x3e\x3ca href\x3d"#" class\x3d"c2t-call-button"\x3e'+
this.strings.click2TalkButton+"\x3c/a\x3e",this.isWebcallVideoEnabled&&(b+='\x26nbsp;\x26nbsp\x3ca href\x3d"#" class\x3d"c2t-call-video-button"\x3e'+this.strings.click2TalkVideoButton+"\x3c/a\x3e"),b+="\x3c/div\x3e");d(this.container).get(0).innerHTML=b;this._setStateClass(this.state.id);this.options.showDebugSection&&this._renderDebugSection()};b.c2c.Click2CallWidget.prototype._renderDebugSection=function(){d("\x3cdiv class\x3d'cs-c2c-debug-section'\x3e").css({border:"1px #aaa solid",margin:"5px",
padding:"5px"}).append(d("\x3cdiv\x3e").text("c2cId: "+this.options.c2cId)).appendTo(this.container)};b.c2c.Click2CallWidget.prototype._validatePhoneNumberStr=function(b,d){if(!b)return 0;var c=0;v.each(d,function(b,a){c+=a.minLength});var e=0;v.each(d,function(b,a){e+=a.maxLength});return b.length<=e&&b.length>=c?!0:!1};b.c2c.Click2CallWidget.prototype._formatPhoneNumberStringInGivenFormat=function(b,d){var c=[],e=0;v.each(d,function(d,f){var q=b.substring(e,f.maxLength+e);c.push(q);e+=f.maxLength});
return c};b.c2c.Click2CallWidget.prototype._getPhoneNumberStringInMaskedFormat=function(b,d){if((d.match(/9/g)||[]).length!=b.length)return[""];for(var c="",e=0,k=0;k<d.length;k++){var m=d.charAt(k);"9"!=m?c+=m:(c+=b.charAt(e),e+=1)}return[c]};d.fn.amazonClick2Call=function(a){return this.each(function(){var c=new b.c2c.Click2CallWidget(this,a);d(this).addClass("c2c-container");c.initialize()})}})(v);(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.c2c&&(b.c2c={});var p={Monday:0,
Tuesday:1,Wednesday:2,Thursday:3,Friday:4,Saturday:5,Sunday:6};d.fn.amznHoursOfOperationUI=function(d){return this.each(function(){new b.c2c.HoursOfOperationUI(this,d)})};b.c2c.HoursOfOperationUI=function(b,e){this.options=d.extend({timezone:"America/Los_Angeles",showTimeZone:!0,hours:[]},e);this.strings=d.extend({openAllDayHours:"Open all day",dayRangeDelimiter:"-",dayRangeTerminator:":",hourRangeDelimiter:" - ",hourRangeListDelimiter:", ",am:"AM",pm:"PM",midnight:"Midnight",noon:"Noon",everyDayOfTheWeek:"Every day of the week",
dayNameMonday:"Monday",dayNameTuesday:"Tuesday",dayNameWednesday:"Wednesday",dayNameThursday:"Thursday",dayNameFriday:"Friday",dayNameSaturday:"Saturday",dayNameSunday:"Sunday","tzNameAmerica/Los_Angeles":"Pacific","tzNameEurope/London":"London","tzNameEurope/Paris":"Paris","tzNameEurope/Berlin":"Berlin","tzNameAsia/Tokyo":"Tokyo"},e.strings);this._render(b)};b.c2c.HoursOfOperationUI.prototype._render=function(b){var e=this._collapseDailyHours(this.options.hours);d(b).empty();for(var a=0;a<e.length;a++){var f=
e[a].startDay,h=e[a].endDay,g=e[a].hours;d(b).append('\x3cdiv class\x3d"c2c-hours-row"\x3e\x3cspan class\x3d"c2c-day-range"\x3e'+this._formatDayRange(f,h)+'\x3c/span\x3e\x3cspan class\x3d"c2c-hour-range"\x3e'+this._formatHours(g)+"\x3c/span\x3e\x3c/div\x3e")}};b.c2c.HoursOfOperationUI.prototype._areHoursEqual=function(b,d){if(b.length!=d.length)return!1;for(var a=0;a<b.length;a++)if(b[a].startHour!=d[a].startHour||b[a].endHour!=d[a].endHour)return!1;return!0};b.c2c.HoursOfOperationUI.prototype._collapseDailyHours=
function(b){b.sort(function(b,a){return p[b.dayName]-p[a.dayName]});for(var d=[],a;a=b.shift();){var f=d[d.length-1],h=1;f&&(h=p[a.dayName]-p[f.endDay||f.startDay]);f&&1==h&&this._areHoursEqual(f.hours,a.operationTimeSlices)?f.endDay=a.dayName:d.push({startDay:a.dayName,endDay:null,hours:a.operationTimeSlices})}return d};b.c2c.HoursOfOperationUI.prototype._formatHour=function(b,d){return"0000"===d&&this.strings.midnight?this.strings.midnight:"1200"===d&&this.strings.noon?this.strings.noon:b.replace(/AM/,
this.strings.am).replace(/PM/,this.strings.pm)};b.c2c.HoursOfOperationUI.prototype._formatHours=function(b){for(var e=[],a=!1,f=0;f<b.length;f++){var h=b[f].startHour,g=b[f].endHour,k=b[f].startHourRaw,m=b[f].endHourRaw;"string"==typeof h&&h===g?(e.push(this.strings.openAllDayHours),a=!0):(h=this._formatHour(h,k),g=this._formatHour(g,m),e.push(h+this.strings.hourRangeDelimiter+g))}!a&&e&&(e[e.length-1]+=this._formatTimeZone(this.options.timezone));var q=this,e=d.map(e,function(b,a){var d=b;a<e.length-
1&&(d+=q.strings.hourRangeListDelimiter);return'\x3cspan class\x3d"c2c-hour-range-line"\x3e'+d+"\x3c/span\x3e"});return e.join("")};b.c2c.HoursOfOperationUI.prototype._formatDayRange=function(b,d){var a;0===p[b]&&6===p[d]&&this.strings.everyDayOfTheWeek?a=this.strings.everyDayOfTheWeek:(a=this.strings["dayName"+b],d&&(a+=this.strings.dayRangeDelimiter+this.strings["dayName"+d]));return a+this.strings.dayRangeTerminator};b.c2c.HoursOfOperationUI.prototype._formatTimeZone=function(b){b=this.strings["tzName"+
b];return this.options.showTimeZone&&b?" ("+b+")":""}})(v);(function(b){var p=(b.browser.msie?"paste":"input")+".mask",c=void 0!==window.orientation,e={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};b.fn.extend({caret:function(b,d){if(0!==this.length){if("number"==typeof b)return d="number"==typeof d?d:b,this.each(function(){if(this.setSelectionRange)this.setSelectionRange(b,d);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0);c.moveEnd("character",d);c.moveStart("character",b);
c.select()}});if(this[0].setSelectionRange)b=this[0].selectionStart,d=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();b=0-c.duplicate().moveStart("character",-1E5);d=b+c.text.length}return{begin:b,end:d}}},unmask:function(){return this.trigger("unmask")},mask:function(a,f){if(!a&&0<this.length)return b(this[0]).data("rawMaskFn")();f=b.extend({placeholder:"_",completed:null},f);var h=[],g=a.length,k=null,m=a.length;b.each(a.split(""),
function(b,a){"?"==a?(m--,g=b):e[a]?(h.push(new RegExp(e[a])),null==k&&(k=h.length-1)):h.push(null)});return this.trigger("unmask").each(function(){function q(b){for(;++b<=m&&!h[b];);return b}function v(b,a){if(!(0>b)){for(var d=b,c=q(a);d<m;d++)if(h[d]){if(c<m&&h[d].test(D[c]))D[d]=D[c],D[c]=f.placeholder;else break;c=q(c)}C();n.caret(Math.max(k,b))}}function B(b){b=b.which;if(8==b||46==b||c&&127==b){var a=n.caret(),d=a.begin,a=a.end;if(0===a-d){if(46!=b)for(;0<=--d&&!h[d];);else d=a=q(d-1);a=46==
b?q(a):a}G(d,a);v(d,a-1);return!1}if(27==b)return n.val(J),n.caret(0,r()),!1}function l(b){var a=b.which,d=n.caret();if(b.ctrlKey||b.altKey||b.metaKey||32>a)return!0;if(a){0!==d.end-d.begin&&(G(d.begin,d.end),v(d.begin,d.end-1));var c=q(d.begin-1);c<m&&setTimeout(function(){var b=String.fromCharCode(a);if(h[c].test(b)){for(var d=c,e=f.placeholder;d<m;d++)if(h[d]){var l=q(d),G=D[d];D[d]=e;if(l<m&&h[l].test(G))e=G;else break}D[c]=b;C();b=q(c);n.caret(b);f.completed&&b>=m&&f.completed.call(n)}},0);return!1}}
function G(b,a){for(var d=b;d<a&&d<m;d++)h[d]&&(D[d]=f.placeholder)}function C(){return n.val(D.join("")).val()}function r(b){for(var a=n.val(),d=-1,c=0,e=0;c<m;c++)if(h[c]){for(D[c]=f.placeholder;e++<a.length;){var l=a.charAt(e-1);if(h[c].test(l)){D[c]=l;d=c;break}}if(e>a.length)break}else D[c]==a.charAt(e)&&c!=g&&(e++,d=c);if(!b&&d+1<g)n.val(""),G(0,m);else if(b||d+1>=g)C(),b||n.val(n.val().substring(0,d+1));return g?c:k}var n=b(this),D=b.map(a.split(""),function(b,a){if("?"!=b)return e[b]?f.placeholder:
b}),J=n.val();n.data("rawMaskFn",function(){return b.map(D,function(b,a){return h[a]&&b!=f.placeholder?b:null}).join("")});n.attr("readonly")||n.one("unmask",function(){n.unbind(".mask").removeData("rawMaskFn")}).bind("focus.mask",function(){J=n.val();var c=r(!0);C();var e=function(){c==a.length?n.caret(0,c):n.caret(c)};(b.browser.msie?e:function(){setTimeout(e,0)})()}).bind("blur.mask",function(){r(!0);n.val()!=J&&n.change()}).bind("keydown.mask",B).bind("keypress.mask",l).bind(p,function(){setTimeout(function(){n.caret(r(!0))},
0)});r()})}})})(v);(function(d){"undefined"==typeof b&&(b={});"undefined"==typeof b.c2c&&(b.c2c={});var p=document.createElement("input");p.setAttribute("type","tel");var c="text"!==p.type?"tel":"text";b.c2c.PhoneNumberField=function(e,a){this.c2cWidget=a;if(e){this.minDigits=e.minLength;this.maxDigits=e.maxLength;var f=a._getCurrentCountry(),h={0:a.getString("yourNumberTip"),1:a.getString("yourNumberFirstThreeDigits"),2:a.getString("yourNumberLastFourDigits")},g=document.createElement("input");g.id=
"c2c-yournumber-"+a.getInstanceId();g.className="c2c-yournumber";g.type=c;this.enforcesMaxDigits()&&(g.maxLength=this.maxDigits);f===b.c2c.OTHER_COUNTRY_CODE?d(g).addClass("c2c-yournumber-othercountry"):(f=Math.min(this.maxDigits,12),g.style.width=f+"em");f=document.querySelectorAll(".c2c-yournumber[class\x3dc2c-yournumber]").length;0==f&&(g.title=a.getString("yourNumberTip"),g.setAttribute("aria-label",h[f]));1!=f&&2!=f||1!=a.options.showPhoneNumberAriaLabels||g.setAttribute("aria-label",h[f]);var k=
this;g.getFieldObject=function(){return k};this.domElem=g}};b.c2c.PhoneNumberField.prototype.getDomElement=function(){return this.domElem};b.c2c.PhoneNumberField.prototype.getValue=function(){return this.domElem.value};b.c2c.PhoneNumberField.prototype.getMinDigits=function(){return this.minDigits};b.c2c.PhoneNumberField.prototype.getMaxDigits=function(){return this.maxDigits};b.c2c.DividedPhoneNumberField=function(d,a){this.constructor=b.c2c.DividedPhoneNumberField;b.c2c.PhoneNumberField.call(this,
d,a)};b.c2c.DividedPhoneNumberField.prototype=new b.c2c.PhoneNumberField;b.c2c.DividedPhoneNumberField.prototype.enforcesMaxDigits=function(){return!0};b.c2c.DividedPhoneNumberField.prototype.validate=function(){var d=[];this.getValue().match(/^\d*$/)||d.push(new b.c2c.InvalidCharsValidationError(this,this.c2cWidget));this.getValue().length<this.minDigits&&d.push(new b.c2c.TooShortValidationError(this,this.c2cWidget));return d};b.c2c.SinglePhoneNumberField=function(c,a){this.constructor=b.c2c.SinglePhoneNumberField;
b.c2c.PhoneNumberField.call(this,c,a);var f=a._getCurrentCountryConfig().countryCode;this.stripLeadingZeros=b.c2c.leadingZeroPrefixCountries[f]?!1:!0;d(this.getDomElement()).addClass("c2c-yournumber-singlefield")};b.c2c.SinglePhoneNumberField.prototype=new b.c2c.PhoneNumberField;b.c2c.SinglePhoneNumberField.prototype.enforcesMaxDigits=function(){return!1};b.c2c.SinglePhoneNumberField.prototype.getValue=function(){var b=this.domElem.value.replace(/[^\d]/g,"");this.stripLeadingZeros&&(b=b.replace(/^0+/,
""));return b};b.c2c.SinglePhoneNumberField.prototype.validate=function(){var d=[];this.getValue().length<this.minDigits&&d.push(new b.c2c.TooShortValidationError(this,this.c2cWidget));this.getValue().length>this.maxDigits&&d.push(new b.c2c.TooLongValidationError(this,this.c2cWidget));return d};b.c2c.ValidationError=function(b,a){this.message=a;this.fieldInError=b};b.c2c.ValidationError.prototype.getMessage=function(){return this.message};b.c2c.ValidationError.prototype.getFieldInError=function(){return this.fieldInError};
b.c2c.TooLongValidationError=function(d,a){this.constructor=b.c2c.TooLongValidationError;b.c2c.ValidationError.call(this,d,a.getString("tooLongError").replace(/%s/,d.getMaxDigits()))};b.c2c.TooLongValidationError.prototype=new b.c2c.ValidationError;b.c2c.TooShortValidationError=function(d,a){this.constructor=b.c2c.TooShortValidationError;b.c2c.ValidationError.call(this,d,a.getString("tooShortError").replace(/%s/,d.getMinDigits()))};b.c2c.TooShortValidationError.prototype=new b.c2c.ValidationError;
b.c2c.InvalidCharsValidationError=function(d,a){this.constructor=b.c2c.InvalidCharsValidationError;b.c2c.ValidationError.call(this,d,a.getString("invalidCharsError"))};b.c2c.InvalidCharsValidationError.prototype=new b.c2c.ValidationError})(v);(function(){"undefined"==typeof b&&(b={});"undefined"==typeof b.tel&&(b.tel={});"undefined"==typeof b.tel.retry&&(b.tel.retry={});b.tel.retry.doTaskWithRetries=function(d){var p=d.task,c=d.maxRetries,e=d.retryDelay||2E3,a=d.backoff||"constant",f=d.retryTimeLimit,
h=d.onFail||function(){},g=d.onSuccess||function(){},k=d.onGiveUp||function(){};if("undefined"==typeof c||null==c&&!f)c=3;var m=b.tel.retry.backoffFuncs[a],q=0,v=(new Date).getTime(),B=function(b,a){"undefined"!=typeof a&&(e=a);if(b)return g();var d=!!f&&(new Date).getTime()-v>f,r=null!==c&&q>=c;q++;h(q);if(r||d)return k();d=e+m(q,e);window.setTimeout(function(){p(B,q)},d)};return p(B,q)};b.tel.retry.backoffFuncs={exponential:function(b,p){return Math.pow(p,b)-p},linear:function(b,p){return(b-1)*
p},constant:function(b,p){return p}}})();R.when("jQuery").register("jquery-input-mask",function(b){if(void 0===b.fn.inputmask){var p=function(a,c,e){function h(b,a,d){a=a||0;var f=[],l,w=0,n;do{if(!0===b&&c.validPositions[w]){var k=c.validPositions[w];n=k.match;l=k.locator.slice();f.push(null==n.fn?n.def:!0===d?k.input:e.placeholder.charAt(w%e.placeholder.length))}else l=a>w?F(w,l,w-1)[0]:N(w,l,w-1),n=l.match,l=l.locator.slice(),f.push(null==n.fn?n.def:e.placeholder.charAt(w%e.placeholder.length));
w++}while((void 0==P||w-1<P)&&null!=n.fn||null==n.fn&&""!=n.def||a>=w);f.pop();return f}function n(b){var a=c;a.buffer=void 0;a.tests={};!0!==b&&(a._buffer=void 0,a.validPositions={},a.p=-1)}function p(a){var f=c,t=-1,E=f.validPositions;if(b.isFunction(e.getLastValidPosition))t=e.getLastValidPosition.call(u,f,a,e);else{void 0==a&&(a=-1);var f=t,l;for(l in E){var w=parseInt(l);if(-1==a||null!=E[w].match.fn)w<a&&(f=w),w>=a&&(t=w)}t=1<a-f||t<a?f:t}return t}function J(a,f,t){if(e.insertMode&&void 0!=
c.validPositions[a]&&void 0==t){t=b.extend(!0,{},c.validPositions);var l=p(),n;for(n=a;n<=l;n++)delete c.validPositions[n];c.validPositions[a]=f;f=!0;for(n=a;n<=l;n++){a=t[n];if(void 0!=a){var w=null==a.match.fn?n+1:I(n);f=ba(w,a.match.def)?f&&!1!==U(w,a.input,!0,!0):!1}if(!f)break}if(!f)return c.validPositions=b.extend(!0,{},t),!1}else c.validPositions[a]=f;return!0}function N(b,a,c){b=F(b,a,c);var d;for(a=0;a<b.length&&(d=b[a],!e.greedy&&(!d.match||!1!==d.match.optionality&&!1!==d.match.newBlockMarker||
!0===d.match.optionalQuantifier));a++);return d}function Y(b){return c.validPositions[b]?c.validPositions[b].match:F(b)[0].match}function ba(b,a){for(var d=!1,c=F(b),e=0;e<c.length;e++)if(c[e].match&&c[e].match.def==a){d=!0;break}return d}function F(a,f,t){function l(c,f,t,y){function n(t,y,p){if(w==a&&void 0==t.matches)return k.push({match:t,locator:y.reverse()}),!0;if(void 0!=t.matches)if(t.isGroup&&!0!==p){if(t=n(c.matches[g+1],y))return!0}else if(t.isOptional){var K=t;if(t=l(t,f,y,p))t=k[k.length-
1].match,(t=0==b.inArray(t,K.matches))&&(h=!0),w=a}else{if(!t.isAlternator)if(t.isQuantifier&&!0!==p)for(K=t,e.greedy=e.greedy&&isFinite(K.quantifier.max),p=0<f.length&&!0!==p?f.shift():0;p<(isNaN(K.quantifier.max)?p+1:K.quantifier.max)&&w<=a;p++){var m=c.matches[b.inArray(K,c.matches)-1];if(t=n(m,[p].concat(y),!0))if(t=k[k.length-1].match,t.optionalQuantifier=p>K.quantifier.min-1,t=0==b.inArray(t,m.matches))if(p>K.quantifier.min-1){h=!0;w=a;break}else return!0;else return!0}else if(t=l(t,f,y,p))return!0}else w++}
for(var g=0<f.length?f.shift():0;g<c.matches.length;g++)if(!0!==c.matches[g].isQuantifier){var p=n(c.matches[g],[g].concat(t),y);if(p&&w==a)return p;if(w>a)break}}var n=c.maskToken,w=f?t:0;t=f||[0];var k=[],h=!1;if(void 0==f){f=a-1;for(var g;void 0==(g=c.validPositions[f])&&-1<f;)f--;if(void 0!=g&&-1<f)w=f,t=g.locator.slice();else{for(f=a-1;void 0==(g=c.tests[f])&&-1<f;)f--;void 0!=g&&-1<f&&(w=f,t=g[0].locator.slice())}}for(f=t.shift();f<n.length&&!(l(n[f],t,[f])&&w==a||w>a);f++);(0==k.length||h)&&
k.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]});return c.tests[a]=k}function H(){void 0==c._buffer&&(c._buffer=h(!1,1));return c._buffer}function x(){void 0==c.buffer&&(c.buffer=h(!0,p(),!0));return c.buffer}function X(b,a){for(var c=x().slice(),d=b;d<a;d++)c[d]!=e.skipOptionalPartCharacter&&U(d,c[d],!0,!0)}function oa(b,a){switch(a.casing){case "upper":b=b.toUpperCase();break;case "lower":b=b.toLowerCase()}return b}function U(a,f,t,l){function k(a,f,ia,t){var y=
!1;b.each(F(a),function(l,w){for(var g=w.match,k=f?1:0,h="",E=x(),K=g.cardinality;K>k;K--){var m;m=a-(K-1);m=void 0==c.validPositions[m]?ca(m):c.validPositions[m].input;h+=m}f&&(h+=f);y=null!=g.fn?g.fn.test(h,E,a,ia,e):f!=g.def&&f!=e.skipOptionalPartCharacter||""==g.def?!1:{c:g.def,pos:a};if(!1!==y){k=void 0!=y.c?y.c:f;k=k==e.skipOptionalPartCharacter&&null===g.fn?g.def:k;E=a;if(y.refreshFromBuffer){E=y.refreshFromBuffer;ia=!0;!0===E?(c.validPositions={},c.tests={},X(0,x().length)):X(E.start,E.end);
if(void 0==y.pos&&void 0==y.c)return y.pos=p(),!1;E=void 0!=y.pos?y.pos:a;if(E!=a)return y=U(E,k,!0),!1}else if(!0!==y&&y.pos!=a&&(E=y.pos,X(a,E),E!=a))return y=U(E,k,!0),!1;0<l&&n(!0);J(E,b.extend({},w,{input:oa(k,g)}),t)||(y=!1);return!1}});return y}t=!0===t;if(a>=S())return!1;var w=k(a,f,t,l);if(!t&&!1===w){var g=c.validPositions[a];if(g&&null==g.match.fn&&(g.match.def==f||f==e.skipOptionalPartCharacter))w={caret:I(a)};else if((e.insertMode||void 0==c.validPositions[I(a)])&&!V(a))for(var g=a+1,
h=I(a);g<=h;g++)if(w=k(g,f,t,l),!1!==w){a=g;break}}!0===w&&(w={pos:a});return w}function V(b){b=Y(b);return null!=b.fn?b.fn:!1}function S(){var b;P=u.prop("maxLength");-1==P&&(P=void 0);if(0==e.greedy){var a;a=p();b=c.validPositions[a];var d=void 0!=b?b.locator.slice():void 0;for(a+=1;void 0==b||null!=b.match.fn||null==b.match.fn&&""!=b.match.def;a++)b=N(a,d,a-1),d=b.locator.slice();b=a}else b=x().length;return void 0==P||b<P?b:P}function I(b){var a=S();if(b>=a)return a;for(;++b<a&&!V(b)&&(!0!==e.nojumps||
e.nojumpsThreshold>b););return b}function da(b){if(0>=b)return 0;for(;0<--b&&!V(b););return b}function L(b,a,c){b._valueSet(a.join(""));void 0!=c&&z(b,c)}function ca(b,a){a=a||Y(b);return null==a.fn?a.def:e.placeholder.charAt(b%e.placeholder.length)}function W(a,e,f,l,g){l=void 0!=l?l.slice():pa(a._valueGet()).split("");n();e&&a._valueSet("");b.each(l,function(e,y){if(!0===g){var l=c.p,l=-1==l?l:da(l),n=-1==l?e:I(l);-1==b.inArray(y,H().slice(l+1,n))&&fa.call(a,void 0,!0,y.charCodeAt(0),!1,f,e)}else fa.call(a,
void 0,!0,y.charCodeAt(0),!1,f,e),f=f||0<e&&e>c.p});e&&L(a,x(),b(a).is(":focus")?I(p(0)):void 0)}function ja(a){return b.inputmask.escapeRegex.call(this,a)}function pa(b){return b.replace(new RegExp("("+ja(H().join(""))+")*$"),"")}function ga(b){var a=x().slice(),d,e=p(),f={},l=void 0!=c.validPositions[e]?c.validPositions[e].locator.slice():void 0,n;for(d=e+1;d<a.length;d++)n=N(d,l,d-1),l=n.locator.slice(),f[d]=n;for(d=a.length-1;d>e;d--)if(n=f[d].match,n.optionality&&a[d]==ca(d,n))a.pop();else break;
L(b,a)}function R(a,f){if(!a.data("_inputmask")||!0!==f&&a.hasClass("hasDatepicker"))return a[0]._valueGet();var l=[],n=c.validPositions,g;for(g in n)n[g].match&&null!=n[g].match.fn&&l.push(n[g].input);l=(A?l.reverse():l).join("");n=(A?x().reverse():x()).join("");return b.isFunction(e.onUnMask)?e.onUnMask.call(a,n,l,e):l}function T(b){!A||"number"!=typeof b||e.greedy&&""==e.placeholder||(b=x().length-b);return b}function z(a,c,f){a=a.jquery&&0<a.length?a[0]:a;if("number"==typeof c){c=T(c);f=T(f);
f="number"==typeof f?f:c;var l=b(a).data("_inputmask")||{};l.caret={begin:c,end:f};b(a).data("_inputmask",l);b(a).is(":visible")&&(a.scrollLeft=a.scrollWidth,0==e.insertMode&&c==f&&f++,a.setSelectionRange?(a.selectionStart=c,a.selectionEnd=f):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",f),a.moveStart("character",c),a.select()))}else return l=b(a).data("_inputmask"),!b(a).is(":visible")&&l&&void 0!=l.caret?(c=l.caret.begin,f=l.caret.end):a.setSelectionRange?(c=a.selectionStart,
f=a.selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),c=0-a.duplicate().moveStart("character",-1E5),f=c+a.text.length),c=T(c),f=T(f),{begin:c,end:f}}function Z(a){if(b.isFunction(e.isComplete))return e.isComplete.call(u,a,e);if("*"!=e.repeat){var c=!1,f=da(S());if(p()==f)for(var c=!0,l=0;l<=f;l++){var n=V(l);if(n&&(void 0==a[l]||a[l]==ca(l))||!n&&a[l]!=ca(l)){c=!1;break}}return c}}function ea(b,a){return A?1<b-a||1==b-a&&e.insertMode:1<a-b||1==a-
b&&e.insertMode}function qa(a){a=b._data(a).events;b.each(a,function(a,c){b.each(c,function(b,a){if("inputmask"==a.namespace&&"setvalue"!=a.type){var c=a.handler;a.handler=function(b){if(this.readOnly||this.disabled)b.preventDefault;else return c.apply(this,arguments)}}})})}function ra(a){function c(a){if(void 0==b.valHooks[a]||1!=b.valHooks[a].inputmaskpatch){var e=b.valHooks[a]&&b.valHooks[a].get?b.valHooks[a].get:function(b){return b.value},f=b.valHooks[a]&&b.valHooks[a].set?b.valHooks[a].set:
function(b,a){b.value=a;return b};b.valHooks[a]={get:function(a){var c=b(a);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");a=e(a);c=(c=c.data("_inputmask").maskset._buffer)?c.join(""):"";return a!=c?a:""}return e(a)},set:function(a,c){var e=b(a),l=f(a,c);e.data("_inputmask")&&e.triggerHandler("setvalue.inputmask");return l},inputmaskpatch:!0}}}var e;Object.getOwnPropertyDescriptor&&(e=Object.getOwnPropertyDescriptor(a,"value"));if(e&&e.get){if(!a._valueGet){var f=
e.get,l=e.set;a._valueGet=function(){return A?f.call(this).split("").reverse().join(""):f.call(this)};a._valueSet=function(b){l.call(this,A?b.split("").reverse().join(""):b)};Object.defineProperty(a,"value",{get:function(){var a=b(this),c=b(this).data("_inputmask");return c?c.opts.autoUnmask?a.inputmask("unmaskedvalue"):f.call(this)!=H().join("")?f.call(this):"":f.call(this)},set:function(a){l.call(this,a);b(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&a.__lookupGetter__("value")?
a._valueGet||(f=a.__lookupGetter__("value"),l=a.__lookupSetter__("value"),a._valueGet=function(){return A?f.call(this).split("").reverse().join(""):f.call(this)},a._valueSet=function(b){l.call(this,A?b.split("").reverse().join(""):b)},a.__defineGetter__("value",function(){var a=b(this),c=b(this).data("_inputmask");return c?c.opts.autoUnmask?a.inputmask("unmaskedvalue"):f.call(this)!=H().join("")?f.call(this):"":f.call(this)}),a.__defineSetter__("value",function(a){l.call(this,a);b(this).triggerHandler("setvalue.inputmask")})):
(a._valueGet||(a._valueGet=function(){return A?this.value.split("").reverse().join(""):this.value},a._valueSet=function(b){this.value=A?b.split("").reverse().join(""):b}),c(a.type))}function ka(b,a,d){if(e.numericInput||A){switch(a){case e.keyCode.BACKSPACE:a=e.keyCode.DELETE;break;case e.keyCode.DELETE:a=e.keyCode.BACKSPACE}A&&(b=d.end,d.end=d.begin,d.begin=b)}d.begin==d.end?a==e.keyCode.BACKSPACE?d.begin=da(d.begin):a==e.keyCode.DELETE&&d.end++:1!=d.end-d.begin||e.insertMode||a==e.keyCode.BACKSPACE&&
d.begin--;b=d.begin;var f=d.end;for(a=b;b<f;b++)delete c.validPositions[b];for(b=f;b<=p();){var f=c.validPositions[b],l=c.validPositions[a];void 0!=f&&void 0==l?(ba(a,f.match.def)&&!1!==U(a,f.input,!0)&&(delete c.validPositions[b],b++),a++):b++}for(a=p();0<a&&(void 0==c.validPositions[a]||null==c.validPositions[a].match.fn);)delete c.validPositions[a],a--;n(!0);a=I(-1);p()<a?c.p=a:c.p=d.begin}function la(a){ha=!1;var f=this,l=b(f),k=a.keyCode,h=z(f);k==e.keyCode.BACKSPACE||k==e.keyCode.DELETE||g&&
127==k||a.ctrlKey&&88==k?(a.preventDefault(),88==k&&(O=x().join("")),ka(f,k,h),L(f,x(),c.p),f._valueGet()==H().join("")&&l.trigger("cleared"),e.showTooltip&&l.prop("title",c.mask)):k==e.keyCode.END||k==e.keyCode.PAGE_DOWN?setTimeout(function(){var b=I(p());e.insertMode||b!=S()||a.shiftKey||b--;z(f,a.shiftKey?h.begin:b,b)},0):k==e.keyCode.HOME&&!a.shiftKey||k==e.keyCode.PAGE_UP?z(f,0,a.shiftKey?h.begin:0):k==e.keyCode.ESCAPE||90==k&&a.ctrlKey?(W(f,!0,!1,O.split("")),l.click()):k!=e.keyCode.INSERT||
a.shiftKey||a.ctrlKey?0!=e.insertMode||a.shiftKey||(k==e.keyCode.RIGHT?setTimeout(function(){var b=z(f);z(f,b.begin)},0):k==e.keyCode.LEFT&&setTimeout(function(){var b=z(f);z(f,b.begin-1)},0)):(e.insertMode=!e.insertMode,z(f,e.insertMode||h.begin!=S()?h.begin:h.begin-1));var l=z(f),w=e.onKeyDown.call(this,a,x(),e);w&&!0===w.refreshFromBuffer&&(c.validPositions={},c.tests={},X(0,x().length),n(!0),L(f,x()),z(f,l.begin,l.end));ma=-1!=b.inArray(k,e.ignorables)}function fa(a,f,l,k,g,h){if(void 0==l&&ha)return!1;
ha=!0;var m=b(this);a=a||window.event;l=f?l:a.which||a.charCode||a.keyCode;if(!(!0===f||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||ma))return!0;if(l){!0!==f&&46==l&&0==a.shiftKey&&","==e.radixPoint&&(l=44);var q;l=String.fromCharCode(l);f?(h=g?h:p()+1,h={begin:h,end:h}):h=z(this);var u=ea(h.begin,h.end);u&&(c.undoPositions=b.extend(!0,{},c.validPositions),ka(this,e.keyCode.DELETE,h),e.insertMode||(e.insertMode=!e.insertMode,J(h.begin,g),e.insertMode=!e.insertMode),u=!e.multi);c.writeOutBuffer=!0;
var r=h.begin,F=U(r,l,g);!1!==F&&(!0!==F&&(r=void 0!=F.pos?F.pos:r,l=void 0!=F.c?F.c:l),n(!0),void 0!=F.caret?q=F.caret:(g=c.validPositions,q=void 0!=g[r+1]&&N(h+1,g[r].locator.slice(),r).match.def!=g[r+1].match.def?r+1:I(r)),c.p=q);if(!1!==k){var H=this;setTimeout(function(){e.onKeyValidation.call(H,F,e)},0);if(c.writeOutBuffer&&!1!==F){var v=x();L(this,v,f?void 0:e.numericInput?da(q):q);!0!==f&&setTimeout(function(){!0===Z(v)&&m.trigger("complete");aa=!0;m.trigger("input")},0)}else u&&(c.buffer=
void 0,c.validPositions=c.undoPositions)}else u&&(c.buffer=void 0,c.validPositions=c.undoPositions);e.showTooltip&&m.prop("title",c.mask);a&&1!=f&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}function sa(a){var f=b(this),l=a.keyCode,k=x();(a=e.onKeyUp.call(this,a,k,e))&&!0===a.refreshFromBuffer&&(c.validPositions={},c.tests={},X(0,x().length),n(!0),L(this,x()));l==e.keyCode.TAB&&e.showMaskOnFocus&&(f.hasClass("focus.inputmask")&&0==this._valueGet().length?(n(),k=x(),L(this,k),z(this,0),
O=x().join("")):(L(this,k),z(this,T(0),T(S()))))}function na(a){if(!0===aa&&"input"==a.type)return aa=!1,!0;var c=this,f=b(c);if("propertychange"==a.type&&c._valueGet().length<=S())return!0;setTimeout(function(){var a=b.isFunction(e.onBeforePaste)?e.onBeforePaste.call(c,c._valueGet(),e):c._valueGet();W(c,!0,!1,a.split(""),!0);!0===Z(x())&&f.trigger("complete");f.click()},0)}function ta(b){if(!0===aa&&"input"==b.type)return aa=!1,!0;var a=z(this),c=this._valueGet(),c=c.replace(new RegExp("("+ja(H().join(""))+
")*"),"");a.begin>c.length&&(z(this,c.length),a=z(this));1!=x().length-c.length||c.charAt(a.begin)==x()[a.begin]||c.charAt(a.begin+1)==x()[a.begin]||V(a.begin)||(b.keyCode=e.keyCode.BACKSPACE,la.call(this,b));b.preventDefault()}function ua(a){u=b(a);if(u.is(":input")&&"number"!=u.attr("type")){u.data("_inputmask",{maskset:c,opts:e,isRTL:!1});e.showTooltip&&u.prop("title",c.mask);ra(a);("rtl"==a.dir||e.rightAlign)&&u.css("text-align","right");if("rtl"==a.dir||e.numericInput){a.dir="ltr";u.removeAttr("dir");
var l=u.data("_inputmask");l.isRTL=!0;u.data("_inputmask",l);A=!0}u.unbind(".inputmask");u.removeClass("focus.inputmask");u.closest("form").bind("submit",function(){O!=x().join("")&&u.change()}).bind("reset",function(){setTimeout(function(){u.trigger("setvalue")},0)});u.bind("mouseenter.inputmask",function(){!b(this).hasClass("focus.inputmask")&&e.showMaskOnHover&&this._valueGet()!=x().join("")&&L(this,x())}).bind("blur.inputmask",function(){var a=b(this);if(a.data("_inputmask")){var c=this._valueGet(),
f=x();a.removeClass("focus.inputmask");O!=x().join("")&&a.change();e.clearMaskOnLostFocus&&""!=c&&(c==H().join("")?this._valueSet(""):ga(this));!1===Z(f)&&(a.trigger("incomplete"),e.clearIncomplete&&(n(),e.clearMaskOnLostFocus?this._valueSet(""):(f=H().slice(),L(this,f))))}}).bind("focus.inputmask",function(){var a=b(this),c=this._valueGet();e.showMaskOnFocus&&!a.hasClass("focus.inputmask")&&(!e.showMaskOnHover||e.showMaskOnHover&&""==c)&&this._valueGet()!=x().join("")&&L(this,x(),I(p()));a.addClass("focus.inputmask");
O=x().join("")}).bind("mouseleave.inputmask",function(){var a=b(this);e.clearMaskOnLostFocus&&(a.hasClass("focus.inputmask")||this._valueGet()==a.attr("placeholder")||(this._valueGet()==H().join("")||""==this._valueGet()?this._valueSet(""):ga(this)))}).bind("click.inputmask",function(){var b=this;setTimeout(function(){var a=z(b);x();if(a.begin==a.end){var a=A?T(a.begin):a.begin,c=p(a),c=I(c);a<c?V(a)?z(b,a):z(b,I(a)):z(b,c)}},0)}).bind("dblclick.inputmask",function(){var b=this;setTimeout(function(){z(b,
0,I(p()))},0)}).bind(B+".inputmask dragdrop.inputmask drop.inputmask",na).bind("setvalue.inputmask",function(){W(this,!0);O=x().join("");this._valueGet()==H().join("")&&this._valueSet("")}).bind("complete.inputmask",e.oncomplete).bind("incomplete.inputmask",e.onincomplete).bind("cleared.inputmask",e.oncleared);u.bind("keydown.inputmask",la).bind("keypress.inputmask",fa).bind("keyup.inputmask",sa);if(k||q||m||v)"input"==B&&u.unbind(B+".inputmask"),u.bind("input.inputmask",ta);f&&u.bind("input.inputmask",
na);l=b.isFunction(e.onBeforeMask)?e.onBeforeMask.call(a,a._valueGet(),e):a._valueGet();W(a,!0,!1,l.split(""),!0);O=x().join("");var g;try{g=document.activeElement}catch(h){}g===a?(u.addClass("focus.inputmask"),z(a,I(p()))):e.clearMaskOnLostFocus?x().join("")==H().join("")?a._valueSet(""):ga(a):L(a,x());qa(a)}}var A=!1,O,u,ha=!1,aa=!1,ma=!1,P;if(void 0!=a)switch(a.action){case "isComplete":return u=b(a.el),c=u.data("_inputmask").maskset,e=u.data("_inputmask").opts,Z(a.buffer);case "unmaskedvalue":return u=
a.$input,c=u.data("_inputmask").maskset,e=u.data("_inputmask").opts,A=a.$input.data("_inputmask").isRTL,R(a.$input,a.skipDatepickerCheck);case "mask":O=x().join("");ua(a.el);break;case "format":u=b({});u.data("_inputmask",{maskset:c,opts:e,isRTL:e.numericInput});e.numericInput&&(A=!0);var Q=a.value.split("");W(u,!1,!1,A?Q.reverse():Q,!0);return A?x().reverse().join(""):x().join("");case "isValid":return u=b({}),u.data("_inputmask",{maskset:c,opts:e,isRTL:e.numericInput}),e.numericInput&&(A=!0),Q=
a.value.split(""),W(u,!1,!0,A?Q.reverse():Q),Z(x());case "getemptymask":return u=b(a.el),c=u.data("_inputmask").maskset,e=u.data("_inputmask").opts,H();case "remove":a=a.el;u=b(a);c=u.data("_inputmask").maskset;e=u.data("_inputmask").opts;a._valueSet(R(u));u.unbind(".inputmask");u.removeClass("focus.inputmask");u.removeData("_inputmask");Object.getOwnPropertyDescriptor&&(Q=Object.getOwnPropertyDescriptor(a,"value"));Q&&Q.get?a._valueGet&&Object.defineProperty(a,"value",{get:a._valueGet,set:a._valueSet}):
document.__lookupGetter__&&a.__lookupGetter__("value")&&a._valueGet&&(a.__defineGetter__("value",a._valueGet),a.__defineSetter__("value",a._valueSet));try{delete a._valueGet,delete a._valueSet}catch(va){a._valueGet=void 0,a._valueSet=void 0}}},c=function(a){function c(b){function d(a,b,c,f){this.matches=[];this.isGroup=a||!1;this.isOptional=b||!1;this.isQuantifier=c||!1;this.isAlternator=f||!1;this.quantifier={min:1,max:1}}function f(b,c,d){var e=a.definitions[c],h=0==b.matches.length;d=void 0!=d?
d:b.matches.length;if(e&&!k){for(var g=e.prevalidator,n=g?g.length:0,p=1;p<e.cardinality;p++){var q=n>=p?g[p-1]:[],m=q.validator,q=q.cardinality;b.matches.splice(d++,0,{fn:m?"string"==typeof m?new RegExp(m):new function(){this.test=m}:/./,cardinality:q?q:1,optionality:b.isOptional,newBlockMarker:h,casing:e.casing,def:e.definitionSymbol||c})}b.matches.splice(d++,0,{fn:e.validator?"string"==typeof e.validator?new RegExp(e.validator):new function(){this.test=e.validator}:/./,cardinality:e.cardinality,
optionality:b.isOptional,newBlockMarker:h,casing:e.casing,def:e.definitionSymbol||c})}else b.matches.splice(d++,0,{fn:null,cardinality:0,optionality:b.isOptional,newBlockMarker:h,casing:null,def:c}),k=!1}for(var e=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,k=!1,g=new d,h,p=[],m=[];h=e.exec(b);)switch(h=h[0],h.charAt(0)){case a.optionalmarker.end:case a.groupmarker.end:var q=p.pop();0<p.length?p[p.length-1].matches.push(q):g.matches.push(q);break;case a.optionalmarker.start:p.push(new d(!1,
!0));break;case a.groupmarker.start:p.push(new d(!0));break;case a.quantifiermarker.start:q=new d(!1,!1,!0);h=h.replace(/[{}]/g,"");var r=h.split(",");h=isNaN(r[0])?r[0]:parseInt(r[0]);r=1==r.length?h:isNaN(r[1])?r[1]:parseInt(r[1]);if("*"==r||"+"==r)h="*"==r?0:1;q.quantifier={min:h,max:r};if(0<p.length){r=p[p.length-1].matches;h=r.pop();if(!h.isGroup){var C=new d(!0);C.matches.push(h);h=C}r.push(h);r.push(q)}else h=g.matches.pop(),h.isGroup||(C=new d(!0),C.matches.push(h),h=C),g.matches.push(h),
g.matches.push(q);break;case a.escapeChar:k=!0;break;case a.alternatormarker:break;default:0<p.length?f(p[p.length-1],h):(0<g.matches.length&&(q=g.matches[g.matches.length-1],q.isGroup&&(q.isGroup=!1,f(q,a.groupmarker.start,0),f(q,a.groupmarker.end))),f(g,h))}0<g.matches.length&&(q=g.matches[g.matches.length-1],q.isGroup&&(q.isGroup=!1,f(q,a.groupmarker.start,0),f(q,a.groupmarker.end)),m.push(g));return m}function f(e,h){if(a.numericInput&&!0!==a.multi){e=e.split("").reverse();for(var g=0;g<e.length;g++)e[g]==
a.optionalmarker.start?e[g]=a.optionalmarker.end:e[g]==a.optionalmarker.end?e[g]=a.optionalmarker.start:e[g]==a.groupmarker.start?e[g]=a.groupmarker.end:e[g]==a.groupmarker.end&&(e[g]=a.groupmarker.start);e=e.join("")}if(void 0!=e&&""!=e){if(0<a.repeat||"*"==a.repeat||"+"==a.repeat)e=a.groupmarker.start+e+a.groupmarker.end+a.quantifiermarker.start+("*"==a.repeat?0:"+"==a.repeat?1:a.repeat)+","+a.repeat+a.quantifiermarker.end;void 0==b.inputmask.masksCache[e]&&(b.inputmask.masksCache[e]={mask:e,maskToken:c(e),
validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:h});return b.extend(!0,{},b.inputmask.masksCache[e])}}var e=[];b.isFunction(a.mask)&&(a.mask=a.mask.call(this,a));b.isArray(a.mask)?b.each(a.mask,function(a,b){void 0!=b.mask?e.push(f(b.mask.toString(),b)):e.push(f(b.toString()))}):(1==a.mask.length&&0==a.greedy&&0!=a.repeat&&(a.placeholder=""),e=void 0!=a.mask.mask?f(a.mask.mask.toString(),a.mask):f(a.mask.toString()));return e},e=function(a,c,f){return(a=f.aliases[a])?(a.alias&&e(a.alias,
void 0,f),b.extend(!0,f,a),b.extend(!0,f,c),!0):!1},a=function(a){var b=document.createElement("input");a="on"+a;var c=a in b;c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]);return c},f="function"===typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():10<=(new Function("/*@cc_on return @_jscript_version; @*/"))(),h=navigator.userAgent,g=null!==h.match(/iphone/i),k=null!==h.match(/android.*safari.*/i),m=null!==h.match(/android.*chrome.*/i),q=null!==h.match(/android.*firefox.*/i),v=
/Kindle/i.test(h)||/Silk/i.test(h)||/KFTT/i.test(h)||/KFOT/i.test(h)||/KFJWA/i.test(h)||/KFJWI/i.test(h)||/KFSOWI/i.test(h)||/KFTHWA/i.test(h)||/KFTHWI/i.test(h)||/KFAPWA/i.test(h)||/KFAPWI/i.test(h),B=a("paste")?"paste":a("input")?"input":"propertychange";b.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:b.noop,onincomplete:b.noop,oncleared:b.noop,
repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:b.noop,onKeyDown:b.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:b.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,getLastValidPosition:void 0,rightAlign:!1,radixPoint:"",definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁё]",cardinality:1,definitionSymbol:"*"},
"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,
116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(a){return a.replace(/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/gim,"\\$1")},format:function(a,f){var g=b.extend(!0,{},b.inputmask.defaults,f);e(g.alias,f,g);return p({action:"format",value:a},c(g),g)},isValid:function(a,f){var g=b.extend(!0,{},b.inputmask.defaults,f);e(g.alias,f,g);return p({action:"isValid",value:a},c(g),g)}};b.fn.inputmask=function(a,f,g,h,k){function q(a,c){var e=b(a),f;for(f in c){var g=e.data("inputmask-"+
f.toLowerCase());void 0!=g&&(c[f]=g)}return c}g=g||p;h=h||"_inputmask";var m=b.extend(!0,{},b.inputmask.defaults,f),v;if("string"===typeof a)switch(a){case "mask":return e(m.alias,f,m),v=c(m),0==v.length?this:this.each(function(){g({action:"mask",el:this},b.extend(!0,{},b.isArray(v)&&g===p?v[0]:v),q(this,m))});case "unmaskedvalue":return a=b(this),a.data(h)?g({action:"unmaskedvalue",$input:a}):a.val();case "remove":return this.each(function(){b(this).data(h)&&g({action:"remove",el:this})});case "getemptymask":return this.data(h)?
g({action:"getemptymask",el:this}):"";case "hasMaskedValue":return this.data(h)?!this.data(h).opts.autoUnmask:!1;case "isComplete":return this.data(h)?g({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case "getmetadata":if(this.data(h))return v=this.data(h).maskset,v.metadata;break;case "_detectScope":return e(m.alias,f,m),void 0==k||e(k,f,m)||-1!=b.inArray(k,"mask unmaskedvalue remove getemptymask hasMaskedValue isComplete getmetadata _detectScope".split(" "))||(m.mask=k),
b.isFunction(m.mask)&&(m.mask=m.mask.call(this,m)),b.isArray(m.mask);default:return e(a,f,m)||(m.mask=a),v=c(m),void 0==v?this:this.each(function(){g({action:"mask",el:this},b.extend(!0,{},b.isArray(v)&&g===p?v[0]:v),q(this,m))})}else{if("object"==typeof a)return m=b.extend(!0,{},b.inputmask.defaults,a),e(m.alias,a,m),v=c(m),void 0==v?this:this.each(function(){g({action:"mask",el:this},b.extend(!0,{},b.isArray(v)&&g===p?v[0]:v),q(this,m))});if(void 0==a)return this.each(function(){var a=b(this).attr("data-inputmask");
if(a&&""!=a)try{var a=a.replace(/'/g,'"'),c=b.parseJSON("{"+a+"}");b.extend(!0,c,f);m=b.extend(!0,{},b.inputmask.defaults,c);e(m.alias,c,m);m.alias=void 0;b(this).inputmask("mask",m,g)}catch(h){}})}}}})},R=window.AmazonUIPageJS||window.P;R?R.when("jQuery","TelephonyJSLogger").execute(function(v){ea(v);R.register("TelephonyC2CCommon",function(){})}):ea(window.jQuery)})();
/* ******** */
